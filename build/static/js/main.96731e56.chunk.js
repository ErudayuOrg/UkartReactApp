(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{45:function(e,t,a){e.exports=a(81)},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var r=a(19),n=a.n(r),c=a(0),s=a.n(c),l=a(25),o=a(7),u=a(13),i=a(26),m=a(31),d=a(27),E=a(32),p=a(33),h=a.n(p),b=a(20),f=a(34),v=a.n(f),g=a(1),O=a(2),C=a(4),y=a(3),N=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.headerClass,r=e.title,n=e.children,c=e.className,l=e.footer,o=e.footerClass,u=e.onClick;return s.a.createElement("div",{className:c,onClick:u},s.a.createElement("div",{className:"card bottom-space"},t&&s.a.createElement("div",{className:"card-header ".concat(a)},t),s.a.createElement("div",{className:"card-body"},r&&r,n),l&&s.a.createElement("div",{className:"card-footer ".concat(o)}," ",l," ")))}}]),a}(c.Component),T=a(22),S=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getFieldByType=function(e){var t=e.inputType,a=(e.handleChange,e.errorlabel),r=Object(T.a)(e,["inputType","handleChange","errorlabel"]),n="form-control ".concat(a?"is-invalid":"");switch(t){case"TEXTBOX":return s.a.createElement("input",Object.assign({type:"text",className:n},r));case"PASSWORD":return s.a.createElement("input",Object.assign({type:"password",className:n},r));case"NUMBER":return s.a.createElement("input",Object.assign({type:"text",pattern:"\\d*",className:n},r));case"RADIO":return s.a.createElement("input",Object.assign({type:"radio",className:"custom-control-input"},r));default:return"wew"}},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.label,r=e.errorlabel;return"RADIO"===e.inputType?s.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},this.getFieldByType(this.props),s.a.createElement("label",{className:"custom-control-label _text_sm",htmlFor:t},a)):s.a.createElement("div",{className:"form-group _text_sm_dark"},s.a.createElement("label",{htmlFor:t},a),this.getFieldByType(this.props),r&&s.a.createElement("div",{className:"invalid-feedback"},r))}}]),a}(c.Component),_=function(){return s.a.createElement("div",{className:"_page_overlay"},s.a.createElement("div",{className:"_center_child"},s.a.createElement("div",{className:"spinner-border text-warning _loader_lg",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading..."))))},j={lOADER_STATE:"lOADER_STATE",ERROR_MSG:"SET_ERROR_MESSAGE",SUCCESS_MSG:"SET_SUCCESS_MESSAGE"},k=function(e){return{type:j.lOADER_STATE,payload:{status:e}}},I=function(e){return{type:j.ERROR_MSG,payload:{message:e}}},D=function(e){return{type:j.SUCCESS_MSG,payload:{message:e}}},A={SUCCESS:"SUCCESS",FAILURE:"FAILURE",CHECKED:"CHECKED",OPEN:"OPEN",STEP:{ONE:"One",TWO:"Two",THREE:"Three",FOUR:"Four"},QUERY:{PRODUCT_ID:"productId"},ORDER_STATUS:{1:"Ordered",2:"Packed",3:"Shipped",4:"Out For Delivery",5:"Delivered"},DATE_FORMAT:{MDtY:"Month_Date_Year",DyDtM:"Day_Date_Month"}},R=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).removeMessage=function(){var t=e.props,a=t.removeErrorMessage,r=t.removeSuccessMessage;t.messageType===A.SUCCESS?r():a()},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.messages,a=e.messageType===A.SUCCESS?"alert-success":"alert-danger";return s.a.createElement("div",{className:"offset-md-3 col-md-6 offset-sm-1 col-sm-10 animate-error"},s.a.createElement("div",{className:"alert ".concat(a," alert-dismissible"),role:"alert"},s.a.createElement("ul",{className:"mb-0"}," ",t.map((function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("h6",null,e))}))," "),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.removeMessage},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))}}]),a}(s.a.Component),w=Object(i.b)(null,(function(e){return{removeErrorMessage:function(){return e(I([]))},removeSuccessMessage:function(){return e(D([]))}}}))(R),M=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),a}(s.a.Component),P=Object(o.g)(M),U=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){document.body.style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflow=null}},{key:"render",value:function(){return s.a.createElement("div",{className:"_page_overlay"},s.a.createElement("div",{className:"_center_child"},s.a.createElement("div",{className:"card p-5"},s.a.createElement("div",{className:"card-body text-center"},s.a.createElement("svg",{fill:"rgb(255, 67, 67)",viewBox:"0 0 20 20",width:"80",height:"80"},s.a.createElement("path",{d:"M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10zm.833-13.125H9.167V5h1.666v1.875zm0 8.125H9.167V8.75h1.666V15z"})),s.a.createElement("h5",{className:"card-title my-4"}," Your checkout has no items "),s.a.createElement(l.b,{to:"./cart",className:"btn _primary_bg my-4"},s.a.createElement("small",null," GO TO CART "))))))}}]),a}(c.Component),L=U,x=function(e,t,a){return Object(b.get)(e,t,a)},F=function(e,t,a){return Object(b.set)(e,t,a)},H=a(5),K={CUSTOMER_LOGIN:"CUSTOMER_LOGIN",CUSTOMER_LOGOUT:"CUSTOMER_LOGOUT",CUSTOMER_ADDRESSES:"SET_CUSTOMER_ADDRESSES",CUSTOMER_ORDERS:"SET_CUSTOMER_ORDERS"},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.CUSTOMER_LOGIN:return Object(H.a)(Object(H.a)({},e),{},{loginDetails:t.payload});case K.CUSTOMER_LOGOUT:return null;case K.CUSTOMER_ADDRESSES:return Object(H.a)(Object(H.a)({},e),{},{addresses:t.payload});case K.CUSTOMER_ORDERS:return Object(H.a)(Object(H.a)({},e),{},{orders:t.payload});default:return e}},V={HOME_PRODUCTS:"HOME_PRODUCTS",PRODUCT_SELECTED:"PRODUCT_SELECTED"},G={},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.HOME_PRODUCTS:return Object(H.a)(Object(H.a)({},e),{},{homeProducts:t.payload});case V.PRODUCT_SELECTED:return Object(H.a)(Object(H.a)({},e),{},{selectedProduct:t.payload});default:return e}},z={categories:[{title:"fashion",id:1},{title:"electronics",id:2},{title:"appliances",id:3},{title:"home",id:4},{title:"toys",id:5}]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;return t.type,e},X={},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.lOADER_STATE:return Object(H.a)(Object(H.a)({},e),{},{loader:t.payload});case j.ERROR_MSG:return Object(H.a)(Object(H.a)({},e),{},{error:t.payload});case j.SUCCESS_MSG:return Object(H.a)(Object(H.a)({},e),{},{success:t.payload});default:return e}},q=a(16),$={ADD_ITEM:"ADD_ITEM_TO_CART",REMOVE_ITEM:"REMOVE_ITEM_FROM_CART",MERGE_CUSTOMER_CART:"MERGE_CUSTOMER_CART_ITEMS",EMPTY_CART:"EMPTY_CART",ADD_ITEMS:"ADD_ITEMS_IN_BULK"},Q={cartItems:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.ADD_ITEM:return Object(H.a)(Object(H.a)({},e),{},{cartItems:[].concat(Object(q.a)(e.cartItems),[t.payload])});case $.REMOVE_ITEM:var a=e.cartItems;return Object(H.a)(Object(H.a)({},e),{},{cartItems:a.filter((function(e){return t.payload!==e.productId}))});case $.MERGE_CUSTOMER_CART:var r=e.cartItems;return Object(H.a)(Object(H.a)({},e),{},{cartItems:[].concat(Object(q.a)(r),Object(q.a)(t.payload))});case $.EMPTY_CART:return Object(H.a)(Object(H.a)({},e),{},{cartItems:[]});case $.ADD_ITEMS:return Object(H.a)(Object(H.a)({},e),{},{cartItems:t.payload});default:return e}},ee={CHECKOUT_INITIALIZE:"INITIALIZE_CHECKOUT_STEP",STEP_STATUS:"SET_CHECKOUT_STEP_STATUS",DELIVERY_ADDRESS_SELECTED:"DELIVERY_ADDRESS_SELECTED",DELIVERY_ADDRESS_CONFIRMED:"DELIVERY_ADDRESS_CONFIRMED",ITEMS_TO_CHECKOUT:"ADD_ITEMS_TO_CHECKOUT",REMOVE_ITEM:"REMOVE_ITEM_FROM_CHECKOUT",CHECKOUT_TERMINATE:"TERMINATE_CHECKOUT_STEP"},te={},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.CHECKOUT_INITIALIZE:return Object(H.a)({},t.payload);case ee.STEP_STATUS:var a=e["step".concat(t.payload.step)];return e["step".concat(t.payload.step)]=Object(H.a)(Object(H.a)({},a),{},{status:t.payload.status}),Object(H.a)({},e);case ee.DELIVERY_ADDRESS_SELECTED:var r=e.stepTwo;return Object(H.a)(Object(H.a)({},e),{},{stepTwo:Object(H.a)(Object(H.a)({},r),{},{selectedAddressId:t.payload})});case ee.DELIVERY_ADDRESS_CONFIRMED:var n=e.stepTwo;return Object(H.a)(Object(H.a)({},e),{},{stepTwo:Object(H.a)(Object(H.a)({},n),{},{confirmedAddressId:t.payload})});case ee.ITEMS_TO_CHECKOUT:var c=e.stepThree;return Object(H.a)(Object(H.a)({},e),{},{stepThree:Object(H.a)(Object(H.a)({},c),{},{checkoutItems:Object(q.a)(t.payload)})});case ee.REMOVE_ITEM:var s=e.stepThree,l=s.checkoutItems;return Object(H.a)(Object(H.a)({},e),{},{stepThree:Object(H.a)(Object(H.a)({},s),{},{checkoutItems:l.filter((function(e){return t.payload!==e.productId}))})});case ee.CHECKOUT_TERMINATE:return t.payload;default:return e}},re={key:"root",storage:h.a,whitelist:["Product","Customer","Cart"]},ne=Object(u.b)({Customer:Y,Directory:W,Product:B,Misc:Z,Cart:J,Checkout:ae}),ce=Object(d.a)(re,ne),se=Object(u.c)(ce,Object(u.a)(m.logger)),le=Object(d.b)(se),oe=function(e){var t=e.items;return s.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide _bottom_space","data-ride":"carousel"},s.a.createElement("div",{className:"carousel-inner"},t.length>0&&t.map((function(e,t){return s.a.createElement("div",{className:"carousel-item ".concat(0===t?"active":""),key:t},s.a.createElement("img",{className:"d-block w-100",src:e.imageUrl,alt:e.altName}))}))),s.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},s.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Previous")),s.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},s.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Next")))},ue=function(){return s.a.createElement("footer",{className:"py-4 bg-dark text-white-50 _sticky_footer"},s.a.createElement("div",{className:"container text-center"},s.a.createElement("small",null,"Copyright \xa9 ukart")))},ie=function(){return x(se.getState(),"Customer.loginDetails.loginStatus",!1)},me=function(){return x(se.getState(),"Customer.loginDetails.name","User")},de=function(){return x(se.getState(),"Customer.loginDetails.loginToken","")},Ee=function(){return x(se.getState(),"Customer.addresses",[])},pe=function(){return x(se.getState(),"Customer.orders",[])},he=function(){return x(se.getState(),"Cart.cartItems",[])},be=function(){return{type:K.CUSTOMER_LOGOUT}},fe=function(e){return{type:K.CUSTOMER_ADDRESSES,payload:e}},ve=function(e){return{type:$.MERGE_CUSTOMER_CART,payload:e}},ge=function(){return{type:$.EMPTY_CART,payload:[]}},Oe=function(e){return x(se.getState(),"Checkout.step".concat(e,".status"),!1)},Ce=function(){return x(se.getState(),"Checkout.stepTwo.selectedAddressId","")},ye=function(){return x(se.getState(),"Checkout.stepTwo.confirmedAddressId","")},Ne=function(){return x(se.getState(),"Checkout.stepThree.checkoutItems",[])},Te=function(){return x(se.getState(),"Product.homeProducts",[])},Se=function(e,t){return e-e*(t/100)},_e=function(e,t){return e*(t/100)},je=function(e){return e.toFixed(2)},ke=function(e,t){return e.find((function(e){return x(e,"productId","")===t}))},Ie=function(e,t,a){return e.filter((function(e){return x(e,a,"").toLowerCase()===t.toLowerCase()}))},De=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ae=function(e){var t=[{id:"homepage",name:"Home",link:"/"}];return x(e,"productId","")?(t.push({id:e.category,name:De(e.category),link:"/".concat(e.category)}),t.push({id:e.subCategory,name:De(e.subCategory),link:"/".concat(e.category,"/").concat(e.subCategory)}),t.push({id:e.productId,name:De(e.productName)})):1===e.length?t.push({id:e[0],name:De(e[0])}):(t.push({id:e[0],name:De(e[0]),link:"/".concat(e[0])}),t.push({id:e[1],name:De(e[1])})),t},Re=function(e,t){return e.find((function(e){return e._id===t}))},we=function(e){e.preventDefault(),e.returnValue="The page that you're looking for used information that you entered. Returning to that page might cause any action you took to be repeated. Do you want to continue?"},Me=function(){return{checkoutItems:Ne().map((function(e){return{productId:e.productId,quantity:1}})),paymentType:"C.O.D",deliveryAddress:Re(Ee(),ye())}},Pe=function(e){var t=Te();return e.map((function(e){var a=ke(t,x(e,"product.productId",""));return F(e,"product.productName",a.productName),F(e,"product.sellerId",a.sellerId),F(e,"product.productImage",a.productImages[0]),e}))},Ue=function(e){return e[e.length-1].date},Le=function(e,t){var a=new Date(e),r=a.getDate(),n=new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(a),c=new Intl.DateTimeFormat("en-US",{month:"short"}).format(a),s=a.getFullYear();switch(t){case A.DATE_FORMAT.MDtY:return"".concat(c," ").concat(r,", ").concat(s);case A.DATE_FORMAT.DyDtM:return"".concat(n,", ").concat(r," ").concat(c);default:return"".concat(c," ").concat(r,", ").concat(s)}},xe=function(e,t){return e.some((function(e){return x(e,"productId","")===x(t,"productId",!1)}))},Fe=function(e){return e.map((function(e){return{productId:e.productId,quantity:1}}))},He=function(e,t){return t.filter((function(t){return!e.find((function(e){return e.productId===t.productId}))}))},Ke="https://ukart-express-api.herokuapp.com",Ye={PRODUCTS:"".concat(Ke,"/products/"),CUSTOMER_ACCOUNT_CREATE:"".concat(Ke,"/account/create-customer/"),CUSTOMER_LOGIN:"".concat(Ke,"/account/login-customer/"),CART_ITEMS_SAVE:"".concat(Ke,"/account/save-cart-products/"),CUSTOMER_ADDRESSES:"".concat(Ke,"/account/get-customer-addresses/"),CUSTOMER_ADDRESS_ADD:"".concat(Ke,"/account/add-address/"),CUSTOMER_ADDRESS_UPDATE:"".concat(Ke,"/account/update-address/"),PLACE_ORDER:"".concat(Ke,"/order/place-order/"),CUSTOMER_ORDERS:"".concat(Ke,"/order/get-order/")},Ve=function(e,t){var a={Authorization:t};return v.a.put(Ye.CART_ITEMS_SAVE,{cartProducts:e},{headers:a}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))},Ge=function(e,t){var a={Authorization:t};return v.a.put(Ye.CUSTOMER_ADDRESS_ADD,Object(H.a)({},e),{headers:a}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))},Be=function(e,t){var a={Authorization:t};return v.a.put(Ye.CUSTOMER_ADDRESS_UPDATE+e._id,Object(H.a)({},e),{headers:a}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))},ze=function(e,t){var a={Authorization:t};return v.a.post(Ye.PLACE_ORDER,Object(H.a)({},e),{headers:a}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))},We=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).logoutCustomer=function(){var t=e.props,a=t.cartItems,r=t.customerLoginToken,n=t.emptyCart,c=t.logoutCustomer,s=t.setLoader,l=t.setErrorMessage,o=Fe(a);s(!0),Ve(o,r).then((function(e){e&&n(),c(),s(!1)}),(function(e){l([e]),s(!1)}))},e.navigateToOrders=function(){e.props.history.push("/orders")},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.customerName;return s.a.createElement("span",{className:"_dropdown py-3 btn"},s.a.createElement("div",{className:"_dropdown_link py-1"}," ",e," "),s.a.createElement("div",{className:"_dropdown_menu mt-3"},s.a.createElement("div",{className:"_dropdown_item _line_at_end",onClick:this.logoutCustomer},"Logout"),s.a.createElement("div",{className:"_dropdown_item",onClick:this.navigateToOrders},"Orders")))}}]),a}(c.Component),Xe=Object(o.g)(Object(i.b)((function(){return{customerName:me(),cartItems:he(),customerLoginToken:de()}}),(function(e){return{logoutCustomer:function(){return e(be())},emptyCart:function(){return e(ge())},setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))}}}))(We)),Ze=Object(i.b)((function(){return{customerLoggedIn:ie()}}))((function(e){var t=e.hideCart,a=e.hideLogin,r=e.customerLoggedIn;return s.a.createElement("nav",{className:"navbar navbar-dark text-dark sticky-top _primary_bg pt-0 pb-0"},s.a.createElement(l.b,{to:"/",className:"my-2 mx-2"},s.a.createElement("img",{src:"../logo.png",alt:"UKART",style:{width:"8rem"},className:"img-responsive"})),s.a.createElement("div",{className:"mx-2"},!a&&(r?s.a.createElement(Xe,null):s.a.createElement(l.b,{to:"/user/login",className:"mr-sm-2"},s.a.createElement("button",{className:"btn btn-outline-dark"},"Login"))),!t&&s.a.createElement(l.b,{to:"/cart",className:"my-2 my-sm-0"},s.a.createElement("span",{className:"btn"},s.a.createElement("i",{className:"material-icons"},"shopping_cart"),s.a.createElement("span",{className:"align-straight"},"Cart")))))})),qe=Object(i.b)((function(){return{categories:x(se.getState(),"Directory.categories",[])}}))((function(e){var t=e.categories;return s.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg navbar-expand-lg p-1"},s.a.createElement("ul",{className:"navbar-nav text-md-center nav-justified w-100"},t.map((function(e){return s.a.createElement("li",{className:"nav-item",key:e.id},s.a.createElement(l.b,{className:"nav-link small text-light",to:"/".concat(e.title.toLowerCase())},e.title.toUpperCase()))}))))})),$e=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).toggleHeart=function(){r.setState({wish:!r.state.wish})},r.state={wish:!1},r}return Object(O.a)(a,[{key:"render",value:function(){return s.a.createElement("span",{className:"float-right",onClick:this.toggleHeart},s.a.createElement("svg",{width:"16",height:"16",fill:"red"},s.a.createElement("path",{d:this.state.wish?"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z":"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})))}}]),a}(c.Component),Qe=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.product,t=e.brand,a=e.productName,r=e.productActualPrice,n=e.discount,c=e.productId,o=e.productImages;return s.a.createElement(N,{className:"col-md-3",footer:s.a.createElement(s.a.Fragment,null,s.a.createElement("h6",{className:"text-muted"},t),s.a.createElement("span",{className:"_cut_text"},a),s.a.createElement("div",null,s.a.createElement("strong",{className:"mr-2"},"\u20b9",je(Se(r,n))),s.a.createElement("s",{className:"mr-2"},r),s.a.createElement("small",{className:"text-success"},s.a.createElement("strong",null,n,"% off"))))},s.a.createElement($e,null),s.a.createElement(l.b,{to:"/product/"+c},s.a.createElement("img",{src:o[0],className:"card-img-top",alt:a})))}}]),a}(c.Component),Je=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.rightEnd,a=e.leftEnd,r=e.moveRight,n=e.moveleft;return s.a.createElement("div",null,s.a.createElement("div",{className:"_absolute_mid_left"},s.a.createElement("button",{className:"btn btn-secondary",disabled:a,onClick:n},s.a.createElement("i",{className:"material-icons"},"arrow_back_ios"))),s.a.createElement("div",{className:"_absolute_mid_right"},s.a.createElement("button",{className:"btn btn-secondary",disabled:t,onClick:r},s.a.createElement("i",{className:"material-icons"},"arrow_forward_ios"))))}}]),a}(c.Component),et=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(e){var r;Object(g.a)(this,a),(r=t.call(this,e)).moveleft=function(){var e={start:r.state.start-1,end:r.state.end-1};r.setState(Object(H.a)({visibleProducts:r.props.products.slice(e.start,e.end)},e))},r.moveRight=function(){var e={start:r.state.start+1,end:r.state.end+1};r.setState(Object(H.a)({visibleProducts:r.props.products.slice(e.start,e.end)},e))};var n=e.products,c=n.length<4?n.length:4;return r.state={visibleProducts:n.slice(0,c),start:0,end:c},r}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.products,a=e.title,r=e.link,n=this.state,c=n.visibleProducts,o=n.start,u=n.end;return s.a.createElement(N,{className:"m-2 mt-4"},s.a.createElement(Je,{leftEnd:0===o,rightEnd:u===t.length,moveleft:this.moveleft,moveRight:this.moveRight}),s.a.createElement("div",{className:"d-flex mb-2"},s.a.createElement("div",{className:"flex-grow-1"},s.a.createElement("h5",null,a)),r&&s.a.createElement(l.b,{to:r}," ",s.a.createElement("button",{className:"btn btn-dark"},"VIEW ALL")," ")),s.a.createElement("div",{className:"row"},c.map((function(e){return s.a.createElement(Qe,{product:e,key:e.productId})}))))}}]),a}(c.Component),tt=[{imageUrl:"./banners/banner1.jpg",altName:"First slide"},{imageUrl:"./banners/banner2.jpg",altName:"Second slide"},{imageUrl:"./banners/banner3.jpg",altName:"Third slide"}],at=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get(Ye.PRODUCTS).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a})).then((function(t){e.props.addHomeProducts(t)}))}},{key:"render",value:function(){var e=this.props,t=e.trending,a=e.fashions,r=e.electronics;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze,null),s.a.createElement(qe,null),s.a.createElement("div",{className:"_light_bg"},s.a.createElement(oe,{items:tt}),s.a.createElement(et,{products:t,title:"Trending Offers"}),s.a.createElement(et,{products:a,title:"Fashions",link:"/fashion"}),s.a.createElement(et,{products:r,title:"Electronics",link:"/electronics"}),s.a.createElement(ue,null)))}}]),a}(c.Component),rt=Object(i.b)((function(){var e=Te();return{trending:e,fashions:Ie(e,"Fashion","category"),electronics:Ie(e,"Electronics","category")}}),(function(e){return{addHomeProducts:function(t){return e(function(e){return{type:V.HOME_PRODUCTS,payload:e}}(t))}}}))(at),nt=a(14),ct=function(e){return/^[a-z, A-Z]\w{2,}@[a-z,A-Z]{2,}.com$/.test(e)?"":"Please enter valid Email ID"},st=function(e){return/^[6-9]\d{9}$/.test(e)?"":"Please enter valid Mobile number"},lt=function(e){return 0===e.length?"Please enter Password":e.length>=6?"":"Password must be at least 6 characters"},ot=function(e,t){return/^[0-9a-zA-Z]{1,3}[0-9a-zA-Z/,: ]+$/.test(e)?"":t},ut={userId:"",password:"",error:{userId:"",password:""}},it=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).validateForm=function(){var t,a={};return a.userId=(t=e.state.userId,st(t)&&ct(t)?"Please enter valid Email ID/Mobile number":""),a.password=lt(e.state.password),e.setState({error:a}),!(a.userId||a.password)},e.mergeCustomerCart=function(t){var a=e.props,r=a.products,n=a.cartItems,c=a.mergeCustomerCart,s=[];He(n,t).forEach((function(e){var t=r.find((function(t){return t.productId===e.productId}));t&&s.push(t)})),c(s)},e.handleSubmit=function(t){var a=e.props,r=a.loginCustomer,n=a.setLoader,c=a.setErrorMessage,s=a.setSuccessMessage,l=a.history;t.preventDefault(),e.validateForm()&&(n(!0),function(e){var t=e.userId,a=e.password;return v.a.post(Ye.CUSTOMER_LOGIN,{customerEmail:t,customerMobile:t,customerPassword:a}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))}(e.state).then((function(t){var a=t.token,o=t.customerData,u=t.message;r({id:o.customerId,name:o.customerName,loginStatus:!0,loginToken:a}),e.mergeCustomerCart(o.cart),e.setState(ut),l.goBack(),c([]),s([u]),n(!1)}),(function(e){c([e]),n(!1)})))},e.handleChange=function(t){var a=t.target,r=a.name,n=a.value,c=Object(H.a)({},e.state.error);c[r]="",e.setState(Object(nt.a)({},r,n)),e.setState({error:c})},e.state=ut,e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state,t=e.userId,a=e.password,r=e.error;return s.a.createElement(s.a.Fragment,null,s.a.createElement(N,{id:"LOGIN",header:s.a.createElement("h4",null,"Login")},s.a.createElement(S,{id:"user-id",inputType:"TEXTBOX",name:"userId",value:t,errorlabel:r.userId,onChange:this.handleChange,label:"Email or mobile phone number"}),s.a.createElement(S,{id:"password",inputType:"PASSWORD",name:"password",value:a,errorlabel:r.password,onChange:this.handleChange,label:"Password"}),s.a.createElement("button",{className:"btn btn-block _primary_bg",onClick:this.handleSubmit},"Login")),s.a.createElement("span",{className:"_text_sm_light"},"New to Ukart?"),s.a.createElement(l.b,{to:"/user/register",style:{textDecoration:"none"}},s.a.createElement("button",{className:"btn btn-block btn-outline-dark"},"Create your account")))}}]),a}(c.Component),mt=Object(i.b)((function(){return{products:Te(),cartItems:he()}}),(function(e){return{loginCustomer:function(t){return e(function(e){return{type:K.CUSTOMER_LOGIN,payload:Object(H.a)({},e)}}(t))},setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))},setSuccessMessage:function(t){return e(D(t))},mergeCustomerCart:function(t){return e(ve(t))}}}))(it),dt={username:"",email:"",password:"",rePassword:"",error:{username:"",email:"",password:"",rePassword:""}},Et=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).validateForm=function(){var t=e.state,a=t.username,r=t.email,n=t.password,c=t.rePassword,s={};return s.username=function(e){return/^[a-z,A-Z]+$/.test(e)?"":"Username should only contains alphabets"}(a),s.email=ct(r),s.password=lt(n),s.rePassword=c===n?"":"Passwords must match",e.setState({error:s}),!(s.userId||s.email||s.password||s.rePassword)},e.handleSubmit=function(t){var a=e.props,r=a.setLoader,n=a.setErrorMessage,c=a.setSuccessMessage;t.preventDefault(),e.validateForm()&&(r(!0),function(e){var t=e.username,a=e.email,r=e.password;return v.a.post(Ye.CUSTOMER_ACCOUNT_CREATE,{customerName:t,customerEmail:a,customerPassword:r}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))}(e.state).then((function(t){e.setState(dt),e.props.history.push("/user/login"),n([]),c([t]),r(!1)}),(function(e){n([e]),r(!1)})))},e.handleChange=function(t){var a=t.target,r=a.name,n=a.value,c=Object(H.a)({},e.state.error);c[r]="",e.setState(Object(nt.a)({},r,n)),e.setState({error:c})},e.state=dt,e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,r=e.password,n=e.rePassword,c=e.error;return s.a.createElement(N,{id:"CREATE_ACCOUNT",header:s.a.createElement("h4",null,"Create account")},s.a.createElement(S,{id:"username",inputType:"TEXTBOX",name:"username",value:t,errorlabel:c.username,onChange:this.handleChange,label:"Your name"}),s.a.createElement(S,{id:"email",inputType:"TEXTBOX",name:"email",value:a,errorlabel:c.email,onChange:this.handleChange,label:"Email"}),s.a.createElement(S,{id:"password",inputType:"PASSWORD",name:"password",value:r,errorlabel:c.password,onChange:this.handleChange,label:"Password"}),s.a.createElement(S,{id:"re-password",inputType:"PASSWORD",name:"rePassword",value:n,errorlabel:c.rePassword,onChange:this.handleChange,label:"Re-enter password"}),s.a.createElement("button",{className:"btn btn-block _primary_bg",onClick:this.handleSubmit},"Create your account"),s.a.createElement("span",{className:"_text_sm"},"Already have an account?",s.a.createElement(l.b,{to:"/user/login"}," Sign-In ")))}}]),a}(c.Component),pt=Object(i.b)(null,(function(e){return{setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))},setSuccessMessage:function(t){return e(D(t))}}}))(Et),ht=function(){var e=Object(o.f)().path;return s.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-8 col-xs-8 offset-lg-4 offset-md-3 offset-sm-2 offset-xs-2"},s.a.createElement(l.b,{to:"/"},s.a.createElement("div",{className:"text-center _vertical_space"},s.a.createElement("img",{src:"../logo.png",alt:"UKART",style:{width:"13rem"},className:"img-responsive"}))),s.a.createElement(o.c,null,s.a.createElement(o.a,{path:"".concat(e,"/register"),component:pt}),s.a.createElement(o.a,{path:"".concat(e),component:mt})))},bt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.sections;return s.a.createElement("div",{className:"container ml-0 pt-3 pb-3"},s.a.createElement("div",{className:"row"},e.map((function(e){return s.a.createElement("span",{key:e.id,className:"_flex_container small"},e.link?s.a.createElement(l.b,{to:e.link,className:"_flex_item"},e.name):s.a.createElement("span",{className:"_flex_item"},e.name),e.link&&s.a.createElement("span",{className:"_flex_item"},"\u226b"))}))))}}]),a}(c.Component),ft=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).addToCart=function(){var t=e.props,a=t.addItemToCart,r=t.product,n=t.cartItems,c=t.history;xe(n,r)||a(r),c.push("/cart")},e.buyNow=function(){var t=e.props,a=t.addItemToCart,r=t.product,n=t.cartItems,c=t.history;xe(n,r)||a(r),c.push("/checkout?".concat(A.QUERY.PRODUCT_ID,"=").concat(r.productId))},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.product,t=e.productImages,a=e.productName;return s.a.createElement("div",null,s.a.createElement("img",{className:"img-thumbnail",src:t[0],alt:a}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-7"},s.a.createElement("button",{className:"btn btn-dark btn-md btn-block",onClick:this.buyNow},s.a.createElement("i",{className:"material-icons _align_middle"},"play_arrow"),s.a.createElement("span",{className:"align-straight _align_middle"},"Buy Now"))),s.a.createElement("div",{className:"col-md-5"},s.a.createElement("button",{className:"btn btn-outline-dark btn-md btn-block",onClick:this.addToCart},s.a.createElement("i",{className:"material-icons _align_middle"},"shopping_cart"),s.a.createElement("span",{className:"align-straight _align_middle"},"Add to Cart")))))}}]),a}(c.Component),vt=Object(o.g)(Object(i.b)((function(){return{cartItems:he()}}),(function(e){return{addItemToCart:function(t){return e({type:$.ADD_ITEM,payload:t})}}}))(ft)),gt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.product,t=e.productName,a=e.rating,r=e.productActualPrice,n=e.discount,c=e.description,l=e.highlights;return s.a.createElement("div",null,s.a.createElement("h4",null,t),s.a.createElement("h6",null,s.a.createElement("span",{className:"badge badge-primary"},a)),s.a.createElement("table",null,s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"MRP "),s.a.createElement("td",null,": ",s.a.createElement("strike",null,"\u20b9 ",r))),s.a.createElement("tr",null,s.a.createElement("td",null,"Price "),s.a.createElement("td",null,": ",s.a.createElement("span",{className:"_text_lg_dark"},"\u20b9 ",je(Se(r,n))))),s.a.createElement("tr",null,s.a.createElement("td",null,"You Save "),s.a.createElement("td",null,": ",s.a.createElement("span",null,"\u20b9 ",je(_e(r,n))," (",n,"%)"))))),s.a.createElement("br",null),s.a.createElement("h5",null,"Description"),s.a.createElement("p",null,c),s.a.createElement("h5",null,"Highlight"),s.a.createElement("ul",null,l.map((function(e,t){return s.a.createElement("li",{key:t},e)}))))}}]),a}(c.Component),Ot=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e,t=this.props.product;return e=t,!Object(b.isEmpty)(e)&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement(vt,{product:t})),s.a.createElement("div",{className:"col-md-7"},s.a.createElement(gt,{product:t})))}}]),a}(c.Component),Ct=Object(i.b)((function(){return{product:x(se.getState(),"Product.selectedProduct",{})}}))(Ot),yt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setCurrentProduct)(e.selectedProduct)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze,null),s.a.createElement(qe,null),s.a.createElement("div",{className:"container"},s.a.createElement(bt,{sections:this.props.breadcrumSections}),s.a.createElement(Ct,null)),s.a.createElement(ue,null))}}]),a}(c.Component),Nt=Object(i.b)((function(e,t){var a=Te(),r=ke(a,t.match.params.productId);return{selectedProduct:r,breadcrumSections:Ae(r)}}),(function(e){return{setCurrentProduct:function(t){return e(function(e){return{type:V.PRODUCT_SELECTED,payload:e}}(t))}}}))(yt),Tt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.products;return s.a.createElement("div",{className:"row"},e.map((function(e){return s.a.createElement(Qe,{product:e,key:e.productId})})))}}]),a}(c.Component),St=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.productsByType,a=e.breadcrumSections;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze,null),s.a.createElement(qe,null),s.a.createElement("div",{className:"container"},s.a.createElement(bt,{sections:a}),s.a.createElement(Tt,{products:t})),s.a.createElement(ue,null))}}]),a}(c.Component),_t=Object(i.b)((function(e,t){var a,r,n=Te();return t.match.params.subCategory?(a=Ie(n,t.match.params.subCategory,"subCategory"),r=Ae([t.match.params.category,t.match.params.subCategory])):(a=Ie(n,t.match.params.category,"category"),r=Ae([t.match.params.category])),{productsByType:a,breadcrumSections:r}}))(St),jt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).loggedInCartSection=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text-center"},s.a.createElement("p",{className:"blockquote mb-0 mt-3"},"Your cart is empty!"),s.a.createElement("p",null,s.a.createElement("small",null,"Add items to it now"))),s.a.createElement("div",{className:"offset-md-2 col-md-8"},s.a.createElement(l.b,{to:"/",className:"btn btn-block _primary_bg"}," Shop now ")))},e.loggedOutCartSection=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text-center"},s.a.createElement("p",{className:"blockquote mb-0 mt-3"},"Missing Cart items?"),s.a.createElement("p",null,s.a.createElement("small",null,"Login to see the items you added previously"))),s.a.createElement("div",{className:"offset-md-2 col-md-8"},s.a.createElement(l.b,{to:"/user/login",className:"btn btn-block _primary_bg"}," Login ")))},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.Loggedin;return s.a.createElement(N,{className:"container mt-4"},s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement("div",{className:"col-md-4 mt-4 mb-4"},s.a.createElement("div",{className:"text-center"},s.a.createElement("img",{src:"../empty-cart.png",alt:"Empty cart",style:{width:"13rem"},className:"img-responsive"}),e?this.loggedInCartSection():this.loggedOutCartSection()))))}}]),a}(c.Component),kt=Object(i.b)((function(){return{Loggedin:ie()}}))(jt),It=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.totalItems,a=e.actualTotalPrice,r=e.discountPrice,n=e.totalPrice;return s.a.createElement("div",null,s.a.createElement(N,null,s.a.createElement("h6",{className:"text-muted"},"PRICE DETAILS"),s.a.createElement("hr",null),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("p",null,"Price (","".concat(t," item").concat(t>1?"s":""),")"),s.a.createElement("p",null,"\u20b9",a)),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("p",null,"Discount"),s.a.createElement("p",{className:"text-success"},"- \u20b9",r," ")),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("p",null,"Delivery Charges"),s.a.createElement("p",null,"\u20b940 ")),s.a.createElement("hr",null),s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Total Amount"),s.a.createElement("h5",null,"\u20b9",n," ")),s.a.createElement("hr",null),s.a.createElement("p",{className:"text-success"},"You will save \u20b9",r," on this order")))}}]),a}(c.Component),Dt=Object(i.b)((function(e,t){var a=je(function(e){var t=0;return e.forEach((function(e){t+=e.productActualPrice})),t}(t.items)),r=je(function(e){var t=0;return e.forEach((function(e){t+=_e(e.productActualPrice,e.discount)})),t}(t.items));return{actualTotalPrice:a,discountPrice:r,totalItems:t.items.length,totalPrice:je(a-r)}}))(It),At=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.items,a=e.handleRemoveItem;return t.map((function(e,t){var r=e.brand,n=e.productName,c=e.productActualPrice,o=e.discount,u=e.productId,i=e.productImages;return s.a.createElement("div",{key:u},t>0&&s.a.createElement("hr",null),s.a.createElement("div",{className:"mt-2 row"},s.a.createElement("div",{className:"col-md-2 col-sm-2 col-2"},s.a.createElement(l.b,{to:"product/".concat(u)},s.a.createElement("img",{className:"img-thumbnail",src:i[0],alt:n}))),s.a.createElement("div",{className:"col-md-6 col-sm-6 col-6"},s.a.createElement(l.b,{to:"product/".concat(u)},s.a.createElement("p",{className:"blockquote _cut_text"},n)),s.a.createElement("h6",{className:"text-muted"},r),s.a.createElement("div",null,s.a.createElement("strong",{className:"mr-2"},"\u20b9",Se(c,o)),s.a.createElement("s",{className:"mr-2"},c),s.a.createElement("small",{className:"text-success"},s.a.createElement("strong",null,o,"% off")))),s.a.createElement("div",{className:"col-md-3 col-sm-3 col-3"},s.a.createElement("p",null,s.a.createElement("small",null,"Delivery in 2 days, Mon | \u20b940 "))),s.a.createElement("div",{className:"col-md-1 col-sm-1 col-1"},s.a.createElement("div",{className:"_absolute_top_right"},s.a.createElement("span",{className:"btn text-danger",onClick:function(){return a(u)}},s.a.createElement("span",{className:"material-icons"},"delete"))))))}))}}]),a}(c.Component),Rt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cartItems,a=e.removeItemFromCart;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze,{hideCart:!0}),0===t.length?s.a.createElement(kt,null):s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row mt-4"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement(N,null,s.a.createElement("h5",null,"My Cart (".concat(t.length,")")),s.a.createElement("hr",null),s.a.createElement(At,{items:t,handleRemoveItem:a})),s.a.createElement(N,null,s.a.createElement("div",{className:"float-right"},s.a.createElement(l.b,{to:"./checkout",className:"btn btn-dark btn-lg px-5",onClick:this.handlePlaceOrder},s.a.createElement("small",null,"PLACE ORDER"))))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement(Dt,{items:t})))),s.a.createElement(ue,null))}}]),a}(c.Component),wt=Object(i.b)((function(){return{cartItems:he()}}),(function(e){return{removeItemFromCart:function(t){return e(function(e){return{type:$.REMOVE_ITEM,payload:e}}(t))}}}))(Rt),Mt=function(e,t){return{type:ee.STEP_STATUS,payload:{step:e,status:t}}},Pt=function(e){return{type:ee.DELIVERY_ADDRESS_SELECTED,payload:e}},Ut=function(e){return{type:ee.DELIVERY_ADDRESS_CONFIRMED,payload:e}},Lt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getHeaderContent=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"badge badge-".concat(e," px-2 py-1")},"1"),s.a.createElement("span",{className:"text-muted px-3"},s.a.createElement("strong",null,"LOGIN")))},e.logoutAndSignin=function(){var t=e.props,a=t.cartItems,r=t.customerLoginToken,n=t.emptyCart,c=t.logoutCustomer,s=t.setLoader,l=t.setErrorMessage,o=t.history,u=Fe(a);s(!0),Ve(u,r).then((function(e){e&&n(),c(),o.push("/"),s(!1)}),(function(e){l([e]),s(!1)}))},e.changeDetail=function(){e.props.setCheckoutStatus(A.STEP.ONE,A.OPEN),e.props.setCheckoutStatus(A.STEP.TWO,!1),e.props.setCheckoutStatus(A.STEP.THREE,!1),e.props.setCheckoutStatus(A.STEP.FOUR,!1)},e.continueCheckout=function(){e.props.setCheckoutStatus(A.STEP.ONE,A.CHECKED),e.props.setCheckoutStatus(A.STEP.TWO,A.OPEN)},e.showUncheckedLogin=function(){return e.props.isLoggedIn?s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement("div",{className:"small py-1"},s.a.createElement("span",{className:"text-muted"},"Name"),s.a.createElement("strong",{className:"ml-2"},e.props.customerName)),s.a.createElement("button",{className:"btn btn-link p-0",onClick:e.logoutAndSignin},s.a.createElement("small",null,"Logout & Sign in to another account")),s.a.createElement("button",{className:"btn btn-dark btn-block btn-lg my-3",onClick:e.continueCheckout},s.a.createElement("small",null," CONTINUE CHECKOUT ")))),s.a.createElement("div",{className:"row"},s.a.createElement("small",{className:"col-md-12 text-muted"},' Please note that upon clicking "Logout" you will lose all items in cart and will be redirected to home page'))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement(l.b,{to:"./user/login",className:"btn btn-dark btn-block btn-lg my-3"},s.a.createElement("small",null," LOGIN TO CHECKOUT "))),s.a.createElement("small",{className:"col-md-12 text-muted"},' Please note that upon clicking "Login" your last saved cart items will be added with current cart items'))},e.showCheckedLogin=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-sm-9 col-9"},e.getHeaderContent("light"),s.a.createElement("span",{className:"text-dark"},s.a.createElement("strong",null,"\u2713"))),s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-outline-dark float-right",onClick:e.changeDetail},"Change"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10 pl-5 ml-2"},s.a.createElement("small",null,s.a.createElement("strong",null,e.props.customerName)))))},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.stepOneStatus;return s.a.createElement(N,{className:"mb-3",headerClass:"_primary_bg",header:e===A.OPEN&&this.getHeaderContent("dark")},e===A.CHECKED?this.showCheckedLogin():this.showUncheckedLogin())}}]),a}(c.Component),xt=Object(o.g)(Object(i.b)((function(){return{customerName:me(),customerLoginToken:de(),cartItems:he(),isLoggedIn:ie(),stepOneStatus:Oe(A.STEP.ONE)}}),(function(e){return{logoutCustomer:function(){return e(be())},emptyCart:function(){return e(ge())},setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))},setCheckoutStatus:function(t,a){return e(Mt(t,a))}}}))(Lt)),Ft={receiverName:"",receiverMobile:"",area:"",pincode:"",city:"",state:"",landmark:"",addressType:"",error:{receiverName:"",receiverMobile:"",area:"",pincode:"",city:"",state:"",landmark:"",addressType:""}},Ht=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).validateForm=function(){var t,a,r={};return r.receiverName=(t=e.state.receiverName,/^([a-z,A-Z]{3,}\s?)*$/.test(t)?"":"Name should only contains alphabets"),r.receiverMobile=st(e.state.receiverMobile),r.pincode=(a=e.state.pincode,/^[1-9]?\d{5}$/.test(a)?"":"Please enter valid Pincode"),r.area=ot(e.state.area,"Please enter valid area"),r.city=ot(e.state.city,"Please enter valid city"),r.state=ot(e.state.state,"Please enter valid State"),e.setState({error:r}),!(r.receiverName||r.receiverMobile||r.pincode||r.area||r.city||r.state)},e.setAsDeliveryAddress=function(t){t&&e.props.setConfirmedAddressId(t),e.props.closeform(),t&&(e.props.setCheckoutStepStatus(A.STEP.TWO,A.CHECKED),e.props.setCheckoutStepStatus(A.STEP.THREE,A.OPEN))},e.saveAndDeliver=function(t){var a=e.props,r=a.loginToken,n=a.setLoader,c=a.setErrorMessage,s=a.setCustomerAddresses,l=a.address,o=e.state,u=(o.error,Object(T.a)(o,["error"])),i=l?Be:Ge;t.preventDefault(),e.validateForm()&&(n(!0),i(u,r).then((function(t){s(t.addresses),e.setAsDeliveryAddress(u._id),n(!1)}),(function(e){c([e]),n(!1)})))},e.handleChange=function(t){var a=t.target,r=a.name,n=a.value,c=Object(H.a)({},e.state.error);c[r]="",e.setState(Object(nt.a)({},r,n)),e.setState({error:c})},e.state=Ft,e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.address;e&&this.setState(Object(H.a)({},e))}},{key:"render",value:function(){var e=this.props,t=e.closeform,a=e.address,r=this.state,n=r.receiverName,c=r.receiverMobile,l=r.area,o=r.pincode,u=r.city,i=r.state,m=r.landmark,d=r.addressType,E=r.error,p=a?"EDIT ADDRESS":"ADD A NEW ADDRESS";return s.a.createElement(N,{title:s.a.createElement("h6",{className:"text-muted"},p)},s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-6"},s.a.createElement(S,{id:"receiver-name",inputType:"TEXTBOX",name:"receiverName",value:n,errorlabel:E.receiverName,onChange:this.handleChange,label:"Name"})),s.a.createElement("div",{className:"form-group col-md-6"},s.a.createElement(S,{id:"receiver-mobile",inputType:"NUMBER",maxLength:"10",name:"receiverMobile",value:c,errorlabel:E.receiverMobile,onChange:this.handleChange,label:"10-digit mobile number"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement(S,{id:"area",inputType:"TEXTBOX",name:"area",value:l,errorlabel:E.area,onChange:this.handleChange,label:"Address (Area and Street)"})),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-6"},s.a.createElement(S,{id:"pincode",inputType:"NUMBER",maxLength:"6",name:"pincode",value:o,errorlabel:E.pincode,onChange:this.handleChange,label:"Pincode"})),s.a.createElement("div",{className:"form-group col-md-6"},s.a.createElement(S,{id:"city",inputType:"TEXTBOX",name:"city",value:u,errorlabel:E.city,onChange:this.handleChange,label:"City/District/Town"}))),s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"form-group col-md-6"},s.a.createElement(S,{id:"state",inputType:"TEXTBOX",name:"state",value:i,errorlabel:E.state,onChange:this.handleChange,label:"State"})),s.a.createElement("div",{className:"form-group col-md-6"},s.a.createElement(S,{id:"landmark",inputType:"TEXTBOX",name:"landmark",value:m,onChange:this.handleChange,label:"Landmark (Optional)"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",null,s.a.createElement("label",{className:"_text_sm_dark"},"Address Type")),s.a.createElement(S,{id:"address-type-h",inputType:"RADIO",name:"addressType",value:"H",checked:"H"===d,onChange:this.handleChange,label:"Home (All day delivery)"}),s.a.createElement(S,{id:"address-type-w",inputType:"RADIO",name:"addressType",value:"W",checked:"W"===d,onChange:this.handleChange,label:"Work (Delivery between 10AM - 5PM)"})),s.a.createElement("div",{className:"row py-3"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement("button",{className:"btn btn-dark btn-block btn-lg",onClick:this.saveAndDeliver},s.a.createElement("small",null,"SAVE AND DELIVER HERE"))),s.a.createElement("div",{className:"col-md-2"},s.a.createElement("button",{className:"btn btn-light btn-lg",onClick:t},s.a.createElement("small",null,"CANCEL")))))}}]),a}(c.Component),Kt=Object(i.b)((function(){return{loginToken:de()}}),(function(e){return{setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))},setCustomerAddresses:function(t){return e(fe(t))},setConfirmedAddressId:function(t){return e(Ut(t))},setCheckoutStepStatus:function(t,a){return e(Mt(t,a))}}}))(Ht),Yt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getAddressType=function(e){return e&&s.a.createElement("span",{className:" badge badge-secondary mx-2"},"H"===e?"HOME":"WORK")},e.editAddress=function(t){e.props.setEditAddressId(t)},e.handleSelectedAddress=function(t){e.props.setSelectedAddressId(t)},e.handleDeliveryAddress=function(t){e.props.setConfirmedAddressId(t),e.props.setCheckoutStatus(A.STEP.TWO,A.CHECKED),e.props.setCheckoutStatus(A.STEP.THREE,A.OPEN)},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.address,r=t.selectedAddressId===a._id,n=r?"card border-dark":"";return s.a.createElement(N,{className:"".concat(n," _pointer _hoverable"),onClick:function(){return e.handleSelectedAddress(a._id)}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10"},s.a.createElement("div",{className:"small"},s.a.createElement("span",{className:"mr-2"},s.a.createElement("strong",null,a.receiverName)),this.getAddressType(a.addressType),s.a.createElement("span",{className:"mx-2"},s.a.createElement("strong",null,a.receiverMobile))),s.a.createElement("div",{className:"small my-3"},s.a.createElement("span",null,"".concat(a.area,", ")),s.a.createElement("span",null,"".concat(a.city,", ")),s.a.createElement("span",null,"".concat(a.state," - ")),s.a.createElement("span",null,s.a.createElement("strong",null,a.pincode)))),r&&s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-light text-primary float-right _text_sm_dark",onClick:function(){return e.editAddress(a._id)}},"EDIT"))),r&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 col-xs-12"},s.a.createElement("button",{className:"btn btn-dark btn-block btn-lg my-3",onClick:function(){return e.handleDeliveryAddress(a._id)}},s.a.createElement("small",null," DELIVER HERE ")))))}}]),a}(c.Component),Vt=Object(i.b)(null,(function(e){return{setSelectedAddressId:function(t){return e(Pt(t))},setConfirmedAddressId:function(t){return e(Ut(t))},setCheckoutStatus:function(t,a){return e(Mt(t,a))}}}))(Yt),Gt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).setEditAddressId=function(t){e.setState({editAddressId:t})},e.closeform=function(){e.setState({editAddressId:""})},e.state={editAddressId:""},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.addresses,r=t.selectedAddressId,n=this.state.editAddressId;return a.map((function(t){return n===t._id?s.a.createElement(Kt,{key:t._id,address:t,closeform:e.closeform}):s.a.createElement(Vt,{key:t._id,address:t,selectedAddressId:r,setEditAddressId:e.setEditAddressId})}))}}]),a}(c.Component),Bt=Object(i.b)((function(){return{selectedAddressId:Ce()}}))(Gt),zt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).setDefaultSelectedAddress=function(e){var t=r.props,a=t.selectedAddress,n=t.setSelectedAddressId;!a&&e.length>0&&n(e[0]._id)},r.getHeaderContent=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"badge badge-".concat(e," px-2 py-1")},"2"),s.a.createElement("span",{className:"text-muted px-3"},s.a.createElement("strong",null,"DELIVERY ADDRESS")))},r.changeDetail=function(){r.props.setCheckoutStatus(A.STEP.TWO,A.OPEN),r.props.setCheckoutStatus(A.STEP.THREE,!1),r.props.setCheckoutStatus(A.STEP.FOUR,!1)},r.toggleAddressform=function(){r.setState({addAddress:!r.state.addAddress})},r.showUncheckedDeliveryAddress=function(){var e=r.props,t=e.addresses,a=e.stepTwoStatus,n=r.state.addAddress;return a?s.a.createElement("div",{className:"container"},t.length>0&&s.a.createElement(Bt,{addresses:t}),n?s.a.createElement(Kt,{closeform:r.toggleAddressform}):s.a.createElement(N,{title:s.a.createElement("div",{className:"text-primary _pointer",onClick:r.toggleAddressform},"+ Add a new address")})):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-sm-9 col-9"},r.getHeaderContent("light")))},r.showCheckedDeliveryAddress=function(){var e=r.props.confirmedAddress;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-sm-9 col-9"},r.getHeaderContent("light"),s.a.createElement("span",{className:"text-dark"},s.a.createElement("strong",null,"\u2713"))),s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-outline-dark float-right",onClick:r.changeDetail},"Change"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10 pl-5 ml-2"},s.a.createElement("small",null,s.a.createElement("strong",null,"".concat(e.receiverName," ")),s.a.createElement("span",null,"".concat(e.area,", ")),s.a.createElement("span",null,"".concat(e.city,", ")),s.a.createElement("span",null,"".concat(e.state," - ")),s.a.createElement("span",null,s.a.createElement("strong",null,e.pincode))))))},r.state={addAddress:!1},r}return Object(O.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,r=a.logintoken,n=a.setCustomerAddresses,c=a.setLoader,s=a.setErrorMessage,l=a.stepTwoStatus;!1===e.stepTwoStatus&&l===A.OPEN&&(c(!0),function(e){var t={Authorization:e};return v.a.get(Ye.CUSTOMER_ADDRESSES,{headers:t}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))}(r).then((function(e){n(e.addresses),t.setDefaultSelectedAddress(e.addresses),c(!1)}),(function(e){s([e]),c(!1)})))}},{key:"render",value:function(){var e=this.props.stepTwoStatus;return s.a.createElement(N,{className:"mb-3",headerClass:"_primary_bg",header:e===A.OPEN&&this.getHeaderContent("dark")},e===A.CHECKED?this.showCheckedDeliveryAddress():this.showUncheckedDeliveryAddress())}}]),a}(c.Component),Wt=Object(i.b)((function(){var e=Ee(),t=ye();return{logintoken:de(),addresses:e,stepTwoStatus:Oe(A.STEP.TWO),confirmedAddress:Re(e,t),selectedAddress:Ce()}}),(function(e){return{setCustomerAddresses:function(t){return e(fe(t))},setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))},setCheckoutStatus:function(t,a){return e(Mt(t,a))},setSelectedAddressId:function(t){return e(Pt(t))}}}))(zt),Xt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).changeDetail=function(){e.props.setCheckoutStatus(A.STEP.THREE,A.OPEN),e.props.setCheckoutStatus(A.STEP.FOUR,!1)},e.getHeaderContent=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"badge badge-".concat(e," px-2 py-1")},"3"),s.a.createElement("span",{className:"text-muted px-3"},s.a.createElement("strong",null,"ORDER SUMMARY")))},e.confirmCheckoutItem=function(){e.props.setCheckoutStatus(A.STEP.THREE,A.CHECKED),e.props.setCheckoutStatus(A.STEP.FOUR,A.OPEN)},e.moveItemfromCheckout=function(t){e.props.removeItemFromCheckout(t)},e.showUncheckedOrderSummary=function(){var t=e.props,a=t.stepThreeStatus,r=t.checkoutItems;return a?r.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(At,{items:r,handleRemoveItem:e.moveItemfromCheckout}),s.a.createElement(N,null,s.a.createElement("div",{className:"float-right"},s.a.createElement("button",{className:"btn btn-dark btn-lg px-5",onClick:e.confirmCheckoutItem},s.a.createElement("small",null," CONTINUE "))))):s.a.createElement("small",null,"Your checkout has no items."):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-sm-9 col-9"},e.getHeaderContent("light")))},e.showCheckedOrderSummary=function(){var t=e.props.checkoutItems,a="".concat(t.length," item").concat(t.length>1?"s":"");return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-sm-9 col-9"},e.getHeaderContent("light"),s.a.createElement("span",{className:"text-dark"},s.a.createElement("strong",null,"\u2713"))),s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-outline-dark float-right",onClick:e.changeDetail},"Change"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-10 pl-5 ml-2"},s.a.createElement("small",null,s.a.createElement("strong",null,a)))))},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.stepThreeStatus,a=e.checkoutItems;return s.a.createElement(s.a.Fragment,null,s.a.createElement(N,{className:"mb-3",headerClass:"_primary_bg",header:t===A.OPEN&&this.getHeaderContent("dark")},t===A.CHECKED?this.showCheckedOrderSummary():this.showUncheckedOrderSummary()),!a.length&&s.a.createElement(L,null))}}]),a}(c.Component),Zt=Object(i.b)((function(){return{stepThreeStatus:Oe(A.STEP.THREE),checkoutItems:Ne()}}),(function(e){return{removeItemFromCheckout:function(t){return e(function(e){return{type:ee.REMOVE_ITEM,payload:e}}(t))},setCheckoutStatus:function(t,a){return e(Mt(t,a))}}}))(Xt),qt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getHeaderContent=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"badge badge-".concat(e," px-2 py-1")},"4"),s.a.createElement("span",{className:"text-muted px-3"},s.a.createElement("strong",null,"PAYMENT OPTIONS")))},e.confirmOrder=function(){var t=e.props,a=t.loginToken,r=t.setLoader,n=t.setErrorMessage,c=t.setSuccessMessage,s=t.setCheckoutStatus,l=t.cartItems,o=t.history,u=t.cleanCartAndAddItems,i=Me();s(A.STEP.FOUR,A.CHECKED),r(!0),ze(i,a).then((function(e){c([e.message]),u(He(e.orderedProducts,l)),r(!1),o.push("/orders")}),(function(e){n([e]),r(!1)}))},e.showUncheckedPaymentOption=function(){return e.props.stepFourStatus?s.a.createElement(N,null,s.a.createElement("div",{className:"row mb-3"},s.a.createElement("div",{className:"col"},"Cash on delivery")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("button",{className:"btn btn-dark btn-lg px-5",onClick:e.confirmOrder},s.a.createElement("small",null," CONFIRM ORDER "))))):s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-sm-9 col-9"},e.getHeaderContent("light")))},e.showCheckedPaymentOption=function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-9 col-sm-9 col-9"},e.getHeaderContent("light"),s.a.createElement("span",{className:"text-dark"},s.a.createElement("strong",null,"\u2713"))))},e}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.stepFourStatus;return s.a.createElement(N,{className:"mb-3",headerClass:"_primary_bg",header:e===A.OPEN&&this.getHeaderContent("dark")},e===A.CHECKED?this.showCheckedPaymentOption():this.showUncheckedPaymentOption())}}]),a}(c.Component),$t=Object(o.g)(Object(i.b)((function(){return{stepFourStatus:Oe(A.STEP.FOUR),loginToken:de(),cartItems:he()}}),(function(e){return{setCheckoutStatus:function(t,a){return e(Mt(t,a))},setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))},setSuccessMessage:function(t){return e(D(t))},cleanCartAndAddItems:function(t){return e(function(e){return{type:$.ADD_ITEMS,payload:e}}(t))}}}))(qt)),Qt=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",we);var e=this.props,t=e.loginCheck,a=e.setCheckoutStepStatus,r=e.initializeCheckout,n=e.moveItemsToCheckout,c=e.cartItems,s=e.products,l=e.queriedProductId,o=l?ke(s,l):null;r(),n(o?[o]:c),a(A.STEP.ONE,t?A.CHECKED:A.OPEN),a(A.STEP.TWO,!!t&&A.OPEN)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",we),this.props.terminateCheckout()}},{key:"render",value:function(){var e=this.props.checkoutItems,t=e.length?"col-md-8":"offset-2 col-md-8";return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze,{hideCart:!0,hideLogin:!0}),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row mt-4"},s.a.createElement("div",{className:t},s.a.createElement(xt,null),s.a.createElement(Wt,null),s.a.createElement(Zt,null),s.a.createElement($t,null)),e.length>0&&s.a.createElement("div",{className:"col-md-4"},s.a.createElement(Dt,{items:e})))))}}]),a}(c.Component),Jt=Object(i.b)((function(e,t){var a,r=(a=t.location.search,new URLSearchParams(a));return{cartItems:he(),loginCheck:ie(),checkoutItems:Ne(),paymentCheck:Oe(A.STEP.FOUR),products:Te(),queriedProductId:r.get(A.QUERY.PRODUCT_ID)}}),(function(e){return{initializeCheckout:function(){return e({type:ee.CHECKOUT_INITIALIZE,payload:{stepOne:{status:!1},stepTwo:{status:!1},stepThree:{status:!1},stepFour:{status:!1}}})},moveItemsToCheckout:function(t){return e(function(e){return{type:ee.ITEMS_TO_CHECKOUT,payload:e}}(t))},setCheckoutStepStatus:function(t,a){return e(Mt(t,a))},mergeCustomerCart:function(t){return e(ve(t))},terminateCheckout:function(){return e({type:ee.CHECKOUT_TERMINATE,payload:{}})}}}))(Qt),ea=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).navigateToOrderDetail=function(){e.props.history.push("/order-details/".concat(e.props.orderId))},e}return Object(O.a)(a,[{key:"render",value:function(){return s.a.createElement(N,{className:"_pointer _hoverable mt-2",onClick:this.navigateToOrderDetail},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2 col-4"},s.a.createElement("img",{className:"img-thumbnail",src:this.props.thumnail,alt:this.props.productName})),s.a.createElement("div",{className:"col-md-4 col-5"},s.a.createElement("p",{className:"_cut_text"},this.props.productName),s.a.createElement("p",{className:"small text-muted"},"Seller: ",this.props.sellerId)),s.a.createElement("div",{className:"col-md-2 col-3"},s.a.createElement("p",null,"\u20b9",this.props.price)),s.a.createElement("div",{className:"col-md-4 col-12"},s.a.createElement("small",null,s.a.createElement("span",{className:"badge badge-success mr-2"}," "),s.a.createElement("strong",null,this.props.status," on ",Le(this.props.orderedDate,A.DATE_FORMAT.MDtY)," ")))))}}]),a}(c.Component),ta=Object(o.g)(ea),aa=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return this.props.orders.map((function(e){var t,a=e.product;return s.a.createElement(ta,{key:e.orderId,orderId:e.orderId,productId:a.productId,productName:a.productName,thumnail:a.productImage,sellerId:a.sellerId,price:je(e.orderPrice),status:(t=e.statusTrack,A.ORDER_STATUS[t[t.length-1].statusCd]),orderedDate:Ue(e.statusTrack)})}))}}]),a}(c.Component),ra=Object(i.b)((function(){return{orders:(e=Pe(pe()),e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})))};var e}))(aa),na=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setCustomerOrders,a=e.setLoader,r=e.setErrorMessage;a(!0),function(){var e={Authorization:de()};return v.a.get(Ye.CUSTOMER_ORDERS,{headers:e}).then((function(e){return e.data})).catch((function(e){var t=e.response,a=e.message;throw t?t.data.errorMessage:a}))}().then((function(e){t(e),a(!1)}),(function(e){r([e]),a(!1)}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze,null),s.a.createElement(qe,null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"offset-md-1 col-md-10"},s.a.createElement(ra,null)))),s.a.createElement(ue,null))}}]),a}(c.Component),ca=Object(i.b)(null,(function(e){return{setCustomerOrders:function(t){return e(function(e){return{type:K.CUSTOMER_ORDERS,payload:e}}(t))},setLoader:function(t){return e(k(t))},setErrorMessage:function(t){return e(I(t))}}}))(na),sa=a(44),la=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4"},s.a.createElement("img",{className:"img-thumbnail",src:this.props.thumnail,alt:this.props.productName})),s.a.createElement("div",{className:"col-8"},s.a.createElement("div",{className:"_cut_text"},this.props.productName),s.a.createElement("p",{className:"small text-muted"},"Seller: ",this.props.sellerId),s.a.createElement("h6",null,"\u20b9",this.props.price)))}}]),a}(c.Component),oa=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("h6",null,"Delivery Address"),s.a.createElement("small",null,s.a.createElement("div",{className:"font-weight-bold my-2"},this.props.address.receiverName),s.a.createElement("div",null,this.props.address.area,", ",this.props.address.landmark),s.a.createElement("div",null,this.props.address.city," - ",this.props.address.pincode,", ",this.props.address.state)),s.a.createElement("small",null,s.a.createElement("div",{className:"font-weight-bold mt-2"},"Phone number"),s.a.createElement("div",null,this.props.address.receiverMobile))))}}]),a}(c.Component),ua=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=function(e){for(var t=e.map((function(e){return Object(H.a)(Object(H.a)({},e),{},{date:Le(e.date,A.DATE_FORMAT.DyDtM),status:A.ORDER_STATUS[e.statusCd]})})),a=t[t.length-1].statusCd+1;a<=5;++a){var r=new Date(t[a-2].date).getTime(),n={_id:a,status:A.ORDER_STATUS[a],date:5===a?"Expected by ".concat(Le(r,A.DATE_FORMAT.DyDtM)):Le(r+1728e5,A.DATE_FORMAT.DyDtM)};t.push(n)}var c=e.length<=3?3:1;return t.filter((function(e,t){return t!==c}))}(this.props.statusTrack),t=33*(e.filter((function(e){return e.statusCd})).length-1),a={background:"linear-gradient(90deg, #26a541 0 ".concat(t,"%, #ccc ").concat(t,"% 100%)")};return s.a.createElement("div",{className:"_tracker_line",style:a},e.map((function(e){return s.a.createElement("div",{key:e._id,className:"".concat(e.statusCd?"_tracker_point_complete":"_tracker_point_incomplete"),date:e.date,status:e.status})})))}}]),a}(c.Component),ia=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props.order,t=e.product;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ze,null),s.a.createElement(qe,null),s.a.createElement(N,{className:"container my-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement(oa,{address:e.deliveryAddress})))),s.a.createElement(N,{className:"container my-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement(la,{productId:t.productId,productName:t.productName,thumnail:t.productImage,sellerId:t.sellerId,price:je(e.orderPrice)})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(ua,{statusTrack:e.statusTrack})))),s.a.createElement(ue,null))}}]),a}(c.Component),ma=Object(i.b)((function(e,t){var a=Pe([pe().find((function(e){return e.orderId===t.match.params.orderId}))]);return{order:Object(sa.a)(a,1)[0]}}))(ia),da=function(e){Object(C.a)(a,e);var t=Object(y.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.errors,a=e.success,r=e.loaderOn;return s.a.createElement("div",null,t.length>0&&s.a.createElement(w,{messageType:A.FAILURE,messages:t}),a.length>0&&s.a.createElement(w,{messageType:A.SUCCESS,messages:a}),r&&s.a.createElement(_,null),s.a.createElement(o.c,null,s.a.createElement(o.a,{exact:!0,path:"/",component:rt}),s.a.createElement(o.a,{path:"/user",component:ht}),s.a.createElement(o.a,{path:"/cart",component:wt}),s.a.createElement(o.a,{path:"/checkout",component:Jt}),s.a.createElement(o.a,{path:"/orders",component:ca}),s.a.createElement(o.a,{path:"/order-details/:orderId",component:ma}),s.a.createElement(o.a,{path:"/product/:productId",component:Nt}),s.a.createElement(o.a,{path:"/:category/:subCategory",component:_t}),s.a.createElement(o.a,{path:"/:category",component:_t})))}}]),a}(s.a.Component),Ea=Object(i.b)((function(){return{loaderOn:x(se.getState(),"Misc.loader.status",!1),errors:x(se.getState(),"Misc.error.message",[]),success:x(se.getState(),"Misc.success.message",[])}}))(da);a(79),a(80);n.a.render(s.a.createElement(i.a,{store:se},s.a.createElement(l.a,null,s.a.createElement(P,null),s.a.createElement(E.a,{persistor:le},s.a.createElement(Ea,null)))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.96731e56.chunk.js.map