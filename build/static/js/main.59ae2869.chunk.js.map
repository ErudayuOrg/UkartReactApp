{"version":3,"sources":["core-components/tile.jsx","core-components/field.jsx","core-components/loader.jsx","redux/misc/misc.const.js","redux/misc/misc.action.js","APP_CONST.js","core-components/notifier.jsx","core-components/scrollToTop.jsx","core-components/dialogModal.jsx","utils/modelutils.js","redux/customer/customer.const.js","redux/customer/customer.reducer.js","redux/product/product.const.js","redux/product/product.reducer.js","redux/directory/directory.reducer.js","redux/misc/misc.reducer.js","redux/cart/cart.const.js","redux/cart/cart.reducer.js","redux/checkout/checkout.const.js","redux/checkout/checkout.reducer.js","redux/root.reducer.js","redux/store.js","core-components/banner.jsx","redux/customer/customer.selector.js","redux/cart/cart.selector.js","redux/customer/customer.action.js","redux/cart/cart.action.js","redux/checkout/checkout.selector.js","redux/product/product.selector.js","utils/util.js","utils/cartUtils.js","api/api.const.js","api/api.js","components/loginSignup/cutomerQuickLinks.jsx","components/misc/header.jsx","components/misc/directory.jsx","redux/directory/directory.selector.js","components/product/wishlistButton.jsx","components/product/productOverview.jsx","components/product/productSliderButtons.jsx","components/product/productSlider.jsx","pages/homePage.jsx","redux/product/product.action.js","utils/loginUtils.js","components/loginSignup/login.jsx","redux/misc/misc.selector.js","components/loginSignup/signup.jsx","pages/loginSignupPage.jsx","components/misc/breadcrum.jsx","components/product/productLeftSection.jsx","components/product/productRightSection.jsx","components/product/productDetails.jsx","pages/productPage.jsx","components/product/productList.jsx","pages/directoryPage.jsx","components/cart/emptyCart.jsx","components/priceDetail.jsx","components/itemList.jsx","pages/cartPage.jsx","redux/checkout/checkout.action.js","components/checkout/loginCheck.jsx","components/checkout/deliveryAddress/addressForm.jsx","components/checkout/deliveryAddress/addressDetails.jsx","components/checkout/deliveryAddress/addressList.jsx","components/checkout/deliveryAddress/deliveryAddressCheck.jsx","components/checkout/orderSummary/orderSummaryCheck.jsx","components/checkout/paymentOption/paymentOptionCheck.jsx","pages/checkoutPage.jsx","components/orders/orderOverview.jsx","components/orders/ordersList.jsx","pages/ordersPage.jsx","components/orders/orderedProduct.jsx","components/orders/orderedAddress.jsx","components/orders/orderTracker.jsx","pages/orderDetailsPage.jsx","components/misc/footer.jsx","App.js","index.js"],"names":["Tile","this","props","header","headerClass","title","children","className","footer","footerClass","bodyClass","onClick","Component","Field","getFieldByType","inputType","errorlabel","handleChange","otherProps","type","pattern","id","label","htmlFor","Loader","role","MISC_CONST","lOADER_STATE","ERROR_MSG","SUCCESS_MSG","LOGIN_FROM_CHECKOUT","FOOTER_DISPLAY_STATUS","setLoader","status","payload","setErrorMessage","errorMsgs","message","setSuccessMessage","successMsgs","setLoginFromCheckout","APP_CONST","SUCCESS","FAILURE","CHECKED","OPEN","STEP","ONE","TWO","THREE","FOUR","QUERY","PRODUCT_ID","ORDER_STATUS","1","2","3","4","5","DATE_FORMAT","MDtY","DyDtM","Notifier","removeMessage","removeErrorMessage","removeSuccessMessage","messageType","messages","alertClass","map","index","key","data-dismiss","aria-label","aria-hidden","React","connect","dispatch","ScrollToTop","prevProps","location","pathname","window","scrollTo","withRouter","DialogModal","document","body","style","overflow","fill","viewBox","d","to","getValue","object","defaultValue","get","setValue","value","set","CUSTOMER_CONST","CUSTOMER_LOGIN","CUSTOMER_LOGOUT","CUSTOMER_ADDRESSES","CUSTOMER_ORDERS","userReducer","currentState","action","loginDetails","addresses","orders","PRODUCT_CONST","HOME_PRODUCTS","PRODUCT_SELECTED","INITIAL_STATE","productReducer","homeProducts","selectedProduct","categories","directoryReducer","loaderReducer","loader","error","success","loginFromCheckout","footerDisplay","CART_CONST","ADD_ITEM","REMOVE_ITEM","MERGE_CUSTOMER_CART","EMPTY_CART","ADD_ITEMS","cartItems","cartReducer","filter","product","productId","CHECKOUT_CONST","CHECKOUT_INITIALIZE","STEP_STATUS","DELIVERY_ADDRESS_SELECTED","DELIVERY_ADDRESS_CONFIRMED","ITEMS_TO_CHECKOUT","CHECKOUT_TERMINATE","checkoutReducer","step","stepTwo","selectedAddressId","confirmedAddressId","stepThree","checkoutItems","persistConfig","storage","whitelist","rootReducer","combineReducers","Customer","customerReducer","Directory","Product","Misc","miscReducer","Cart","Checkout","persistReducer","store","createStore","applyMiddleware","persistor","persistStore","Banner","items","data-ride","length","item","src","imageUrl","alt","altName","href","data-slide","getCustomerLoginStatus","getState","getCustomerName","getCustomerLoginToken","getCustomerAddresses","getCustomerOrders","getCartItems","logoutCustomer","setCustomerAddresses","mergeCustomerCart","customerCartItems","emptyCart","getCheckoutStepStatus","getSelectedAddressId","getConfirmedAddressId","getCheckoutItems","getHomeProducts","calculatePriceAfterDiscount","actualPrice","discount","calculateSavingPrice","numberToPrice","number","toFixed","getProductById","products","find","getProductsByType","name","toLowerCase","capitalize","str","charAt","toUpperCase","slice","getBreadcrumSections","sections","link","push","category","subCategory","productName","getAddressById","address","_id","beforeUnloadListener","e","preventDefault","returnValue","prepareOrderDetails","quantity","paymentType","deliveryAddress","mapProductsInOrders","order","sellerId","productImages","getCurrentStatusDate","statusTrack","date","getFormattedDate","unFormattedDate","format","newDate","Date","getDate","day","Intl","DateTimeFormat","weekday","month","year","getFullYear","isCartHasThisItem","cartitem","newItem","some","mapCartProductsToIds","removeSelectedProducts","selectedProducts","HOST","URL","PRODUCTS","CUSTOMER_ACCOUNT_CREATE","CART_ITEMS_SAVE","CUSTOMER_ADDRESS_ADD","CUSTOMER_ADDRESS_UPDATE","PLACE_ORDER","saveCartItems","cartProductIds","customerLoginToken","headers","axios","put","cartProducts","then","data","catch","response","errorMessage","addCustomerAddress","addressDetails","updateCustomerAddress","placeOrder","orderDetails","post","CutomerQuickLinks","api","reject","navigateToOrders","history","customerName","errors","customerLoggedIn","hideCart","hideLogin","width","data-toggle","data-target","WishlistButton","toggleHeart","setState","wish","state","height","ProductOverview","brand","productActualPrice","Fragment","ProductSliderButtons","rightEnd","leftEnd","moveRight","moveleft","disabled","ProductSlider","left","start","end","visibleProducts","right","caroselitems","HomePage","addHomeProducts","trending","fashions","electronics","validateEmail","email","test","validateMobileNumber","mobileNo","validatePassword","password","validateText","text","errorLabel","userId","Login","validateForm","savedCartItems","forEach","cartItem","result","handleSubmit","event","loginCustomer","unsetLoginFromCheckout","customerEmail","customerMobile","customerPassword","token","customerData","customerId","loginStatus","loginToken","cart","goBack","target","onChange","textDecoration","user","username","rePassword","Signup","validateUsername","accountDetails","LoginSignupPage","setFooterDisplay","path","match","component","Breadcrum","section","ProductLeftSection","addToCart","addItemToCart","buyNow","ProductRightSection","rating","description","highlights","highlight","ProductDetails","element","isEmpty","ProductPage","setCurrentProduct","breadcrumSections","availableProducts","params","ProductList","DirectoryPage","productsByType","EmptyCart","loggedInCartSection","loggedOutCartSection","Loggedin","PriceDetail","totalItems","actualTotalPrice","discountPrice","totalPrice","price","calculateCartActualPrice","calculateCartDiscountPrice","ItemList","handleRemoveItem","CartPage","removeItemFromCart","handlePlaceOrder","setCheckoutStepStatus","setSelectedAddressId","addressId","setConfirmedAddressId","LoginCheck","getHeaderContent","color","logoutAndSignin","changeDetail","setCheckoutStatus","continueCheckout","handleLoginToCheckout","showUncheckedLogin","isLoggedIn","showCheckedLogin","stepOneStatus","receiverName","receiverMobile","area","pincode","city","landmark","addressType","AddressForm","pin","setAsDeliveryAddress","closeform","saveAndDeliver","serviceApi","maxLength","checked","AddressDetails","getAddressType","editAddress","setEditAddressId","handleSelectedAddress","handleDeliveryAddress","isSelectedAddress","selectClass","AddressList","editAddressId","DeliveryAddressCheck","setDefaultSelectedAddress","selectedAddress","toggleAddressform","addAddress","showUncheckedDeliveryAddress","stepTwoStatus","showCheckedDeliveryAddress","confirmedAddress","logintoken","OrderSummaryCheck","confirmCheckoutItem","moveItemfromCheckout","removeItemFromCheckout","showUncheckedOrderSummary","stepThreeStatus","showCheckedOrderSummary","checkedItem","PaymentOptionCheck","confirmOrder","cleanCartAndAddItems","orderedProducts","showUncheckedPaymentOption","stepFourStatus","showCheckedPaymentOption","CheckoutPage","addEventListener","loginCheck","initializeCheckout","moveItemsToCheckout","queriedProductId","removeEventListener","terminateCheckout","checkoutSecionClass","search","query","URLSearchParams","paymentCheck","stepOne","stepFour","OrderOverview","navigateToOrderDetail","orderId","thumnail","orderedDate","OrdersList","productImage","orderPrice","statusCd","sort","a","b","createdAt","OrdersPage","setCustomerOrders","OrderedProduct","OrderedAddress","OrderTracker","tracks","tracker","track","cd","expectedDate","getTime","expectedTrack","removeIndex","mapOrderStatusDetails","completion","gradientDegree","innerWidth","background","OrderDetailsPage","Footer","App","loaderOn","showFooter","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.59ae2869.chunk.js","sourcesContent":["import { React, Component } from \"../library\";\r\n\r\nexport default class Tile extends Component {\r\n    render() {\r\n        const { header, headerClass, title, children, className, footer, footerClass, bodyClass, onClick } = this.props;\r\n        return (\r\n            <div className={className} onClick={onClick}>\r\n                <div className=\"card bottom-space\">\r\n                    {header && <div className={`card-header ${headerClass}`}>{header}</div>}\r\n                    <div className={`card-body ${bodyClass}`}>\r\n                        {title && title}\r\n                        {children}\r\n                    </div>\r\n                    {footer && <div className={`card-footer ${footerClass}`}> {footer} </div>}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n","import { React, Component } from \"../library\";\r\n\r\nexport default class Field extends Component {\r\n\r\n    getFieldByType = (props) => {\r\n        const { inputType, handleChange, errorlabel, ...otherProps } = props;\r\n        const className = `form-control ${errorlabel? \"is-invalid\": \"\"}`;\r\n        switch(inputType){\r\n            case \"TEXTBOX\": return(\r\n                <input\r\n                    type=\"text\"\r\n                    className={className}\r\n                    {...otherProps}\r\n                />\r\n            );\r\n            case \"PASSWORD\": return(\r\n                <input\r\n                    type=\"password\"\r\n                    className={className}\r\n                    {...otherProps}\r\n                />\r\n            );\r\n            case \"NUMBER\": return(\r\n                <input\r\n                    type=\"text\"\r\n                    pattern=\"\\d*\"\r\n                    className={className}\r\n                    {...otherProps}\r\n                />\r\n            );\r\n            case \"RADIO\": return (\r\n                <input\r\n                    type=\"radio\"\r\n                    className=\"custom-control-input\"\r\n                    {...otherProps}\r\n                />\r\n            );\r\n            default: return \"wew\";\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const { id, label, errorlabel, inputType } = this.props;\r\n        return (\r\n            inputType === \"RADIO\"?(\r\n                <div className=\"custom-control custom-radio custom-control-inline\">\r\n                    {this.getFieldByType(this.props)}\r\n                    <label className=\"custom-control-label _text_sm\" htmlFor={id}>{label}</label>\r\n                </div>\r\n            ):(\r\n                <div className=\"form-group _text_sm_dark\">\r\n                    <label htmlFor={id}>{label}</label>\r\n                    {this.getFieldByType(this.props)}\r\n                    {errorlabel && <div className=\"invalid-feedback\">{errorlabel}</div>}\r\n                </div>\r\n            )\r\n        );\r\n    }\r\n}","import { React }  from \"../library\";\r\n\r\nconst Loader = () => (\r\n    <div className=\"_page_overlay\">\r\n        <div className=\"_center_child\">\r\n            <div className=\"spinner-border text-warning _loader_lg\" role=\"status\">\r\n                <span className=\"sr-only\" >Loading...</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n)\r\n\r\nexport default Loader;","const MISC_CONST = {\r\n    lOADER_STATE: \"lOADER_STATE\",\r\n    ERROR_MSG: \"SET_ERROR_MESSAGE\",\r\n    SUCCESS_MSG: \"SET_SUCCESS_MESSAGE\",\r\n    LOGIN_FROM_CHECKOUT: \"LOGIN_FROM_CHECKOUT\",\r\n    FOOTER_DISPLAY_STATUS: \"SET_FOOTER_DISPLAY\"\r\n}\r\nexport default MISC_CONST;","import MISC_CONST from './misc.const';\r\n\r\nexport const setLoader = (status) => ({\r\n    type: MISC_CONST.lOADER_STATE,\r\n    payload: {status}\r\n});\r\n\r\nexport const setErrorMessage = (errorMsgs) => ({\r\n    type: MISC_CONST.ERROR_MSG,\r\n    payload: {message:errorMsgs}\r\n});\r\n\r\nexport const setSuccessMessage = (successMsgs) => ({\r\n    type: MISC_CONST.SUCCESS_MSG,\r\n    payload: {message:successMsgs}\r\n});\r\n\r\nexport const setLoginFromCheckout = (status) => ({\r\n    type: MISC_CONST.LOGIN_FROM_CHECKOUT,\r\n    payload: {status}\r\n});\r\n\r\nexport const setFooterDisplay = (status) => ({\r\n    type: MISC_CONST.FOOTER_DISPLAY_STATUS,\r\n    payload: {status}\r\n});","const APP_CONST = {\r\n    SUCCESS : \"SUCCESS\",\r\n    FAILURE : \"FAILURE\",\r\n    CHECKED: \"CHECKED\",\r\n    OPEN: \"OPEN\",\r\n    STEP:{\r\n        ONE:'One',\r\n        TWO:'Two',\r\n        THREE:'Three',\r\n        FOUR:'Four',\r\n    },\r\n    QUERY:{\r\n        PRODUCT_ID: \"productId\"\r\n    },\r\n    ORDER_STATUS:{\r\n        1:\"Ordered\",\r\n        2:\"Packed\",\r\n        3:\"Shipped\",\r\n        4:\"Out For Delivery\",\r\n        5:\"Delivered\"\r\n    },\r\n    DATE_FORMAT:{\r\n        MDtY : 'Month_Date_Year',\r\n        DyDtM : 'Day_Date_Month'\r\n    }\r\n};\r\n\r\nexport default APP_CONST;","import { React, connect } from \"../library\";\r\n\r\nimport { setErrorMessage, setSuccessMessage } from \"../redux/misc/misc.action\";\r\nimport APP_CONST from \"../APP_CONST\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  removeErrorMessage: () => dispatch(setErrorMessage([])),\r\n  removeSuccessMessage: () => dispatch(setSuccessMessage([]))\r\n})\r\n\r\nclass Notifier extends React.Component{ \r\n  \r\n  removeMessage = () => {\r\n    const {removeErrorMessage, removeSuccessMessage, messageType} = this.props;\r\n    if(messageType === APP_CONST.SUCCESS){\r\n      removeSuccessMessage();\r\n    }\r\n    else{\r\n      removeErrorMessage();\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { messages, messageType } = this.props;\r\n    const alertClass = messageType === APP_CONST.SUCCESS?'alert-success':'alert-danger';\r\n    return(\r\n      <div className=\"offset-md-3 col-md-6 offset-sm-1 col-sm-10 animate-error\">\r\n        <div className={`alert ${alertClass} alert-dismissible`} role=\"alert\">\r\n          <ul className=\"mb-0\"> {messages.map((message,index) =><li key={index}><h6>{message}</h6></li>)} </ul>\r\n            <button\r\n              type=\"button\"\r\n              className=\"close\"\r\n              data-dismiss=\"alert\"\r\n              aria-label=\"Close\"\r\n              onClick = {this.removeMessage}\r\n            >\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Notifier);\r\n","import { React, withRouter } from \"../library\";\r\n\r\nclass ScrollToTop extends React.Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import { React, Component, Link } from \"../library\";\r\n\r\nclass DialogModal extends Component{\r\n    componentDidMount(){\r\n        document.body.style.overflow = \"hidden\";\r\n    }\r\n    \r\n    componentWillUnmount(){\r\n        document.body.style.overflow = null;\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"_page_overlay\">\r\n                <div className=\"_center_child\">\r\n                    <div className=\"card _p_md_5 _w_h_md\">\r\n                        <div className=\"card-body text-center\">\r\n                            <div className=\"_svg_container\">\r\n                                <svg fill=\"rgb(255, 67, 67)\" viewBox=\"0 0 20 20\">    \r\n                                    <path d=\"M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10zm.833-13.125H9.167V5h1.666v1.875zm0 8.125H9.167V8.75h1.666V15z\"/>\r\n                                </svg>\r\n                            </div>\r\n                            <h5 className=\"card-title my-4\"> Your checkout has no items </h5>\r\n                            <Link to=\"./cart\" className=\"btn _primary_bg mt-3 mb-4\"><small> GO TO CART </small></Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DialogModal;","import { get, set, isEmpty } from \"../library\";\r\n\r\nexport const getValue = (object, key, defaultValue) => get(object, key, defaultValue);\r\n\r\nexport const setValue = (object, key, value) => set(object, key, value);\r\n\r\nexport const isNotEmpty = (element) => !isEmpty(element);\r\n","const CUSTOMER_CONST = {\r\n    CUSTOMER_LOGIN: \"CUSTOMER_LOGIN\",\r\n    CUSTOMER_LOGOUT: \"CUSTOMER_LOGOUT\",\r\n    CUSTOMER_ADDRESSES: \"SET_CUSTOMER_ADDRESSES\",\r\n    CUSTOMER_ORDERS: \"SET_CUSTOMER_ORDERS\"\r\n}\r\n\r\nexport default CUSTOMER_CONST;","import CUSTOMER_CONST from './customer.const';\r\nconst INITIAL_STATE = null;\r\n\r\nconst userReducer = (currentState = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case CUSTOMER_CONST.CUSTOMER_LOGIN:{\r\n            return { ...currentState, loginDetails: action.payload }\r\n        }\r\n        case CUSTOMER_CONST.CUSTOMER_LOGOUT:{\r\n            return INITIAL_STATE \r\n        }\r\n        case CUSTOMER_CONST.CUSTOMER_ADDRESSES:{\r\n            return { ...currentState, addresses: action.payload }\r\n        }\r\n        case CUSTOMER_CONST.CUSTOMER_ORDERS:{\r\n            return { ...currentState, orders: action.payload }\r\n        }\r\n        default : return currentState;\r\n    }\r\n}\r\n\r\nexport default userReducer;\r\n\r\n","const PRODUCT_CONST = {\r\n    HOME_PRODUCTS: \"HOME_PRODUCTS\",\r\n    PRODUCT_SELECTED: \"PRODUCT_SELECTED\"\r\n}\r\n\r\nexport default PRODUCT_CONST;","import PRODUCT_CONST from './product.const.js';\r\nconst INITIAL_STATE = {};\r\n\r\nconst productReducer = ( currentState = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case PRODUCT_CONST.HOME_PRODUCTS:{\r\n            return { ...currentState, homeProducts: action.payload }\r\n        }\r\n        case PRODUCT_CONST.PRODUCT_SELECTED:{\r\n            return { ...currentState, selectedProduct: action.payload }\r\n        }\r\n        default: \r\n            return currentState;\r\n    }\r\n}\r\n\r\nexport default productReducer;\r\n","const INITIAL_STATE = {categories: [\r\n    {\r\n      title: \"fashion\",\r\n      id: 1,\r\n    },\r\n    {\r\n      title: \"electronics\",\r\n      id: 2,\r\n    },\r\n    {\r\n      title: \"appliances\",\r\n      id: 3,\r\n    },\r\n    {\r\n      title: \"home\",\r\n      id: 4,\r\n    },\r\n    {\r\n      title: \"toys\",\r\n      id: 5,\r\n    }\r\n  ]};\r\n\r\nconst directoryReducer = ( currentState = INITIAL_STATE, action) =>{\r\n    switch(action.type){\r\n        default: \r\n            return currentState;\r\n    }\r\n}\r\n\r\nexport default directoryReducer;\r\n","import MISC_CONST from './misc.const';\r\nconst INITIAL_STATE = {};\r\n\r\nconst loaderReducer = ( currentState = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case MISC_CONST.lOADER_STATE:{\r\n            return { ...currentState, loader: action.payload }\r\n        }\r\n        case MISC_CONST.ERROR_MSG:{\r\n            return { ...currentState, error: action.payload }\r\n        }\r\n        case MISC_CONST.SUCCESS_MSG:{\r\n            return { ...currentState, success: action.payload }\r\n        }\r\n        case MISC_CONST.LOGIN_FROM_CHECKOUT:{\r\n            return { ...currentState, loginFromCheckout: action.payload }\r\n        }\r\n        case MISC_CONST.FOOTER_DISPLAY_STATUS:{\r\n            return { ...currentState, footerDisplay: action.payload }\r\n        }\r\n        default: \r\n            return currentState;\r\n    }\r\n}\r\n\r\nexport default loaderReducer;\r\n","const CART_CONST = {\r\n    ADD_ITEM: \"ADD_ITEM_TO_CART\",\r\n    REMOVE_ITEM: \"REMOVE_ITEM_FROM_CART\",\r\n    MERGE_CUSTOMER_CART: \"MERGE_CUSTOMER_CART_ITEMS\",\r\n    EMPTY_CART: \"EMPTY_CART\",\r\n    ADD_ITEMS: \"ADD_ITEMS_IN_BULK\"\r\n}\r\n\r\nexport default CART_CONST;","import CART_CONST from './cart.const';\r\nconst INITIAL_STATE = {cartItems:[]};\r\n\r\nconst cartReducer = (currentState = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case CART_CONST.ADD_ITEM:{\r\n            return { ...currentState, cartItems: [...currentState.cartItems, action.payload] }\r\n        }\r\n        case CART_CONST.REMOVE_ITEM:{\r\n            const { cartItems } = currentState;\r\n            return { ...currentState, cartItems: cartItems.filter(product => action.payload !== product.productId ) }\r\n        }\r\n        case CART_CONST.MERGE_CUSTOMER_CART:{\r\n            const { cartItems } = currentState;\r\n            return { ...currentState, cartItems: [...cartItems, ...action.payload] }\r\n        }\r\n        case CART_CONST.EMPTY_CART:{\r\n            return { ...currentState, cartItems: [] }\r\n        }\r\n        case CART_CONST.ADD_ITEMS:{\r\n            return { ...currentState, cartItems: action.payload }\r\n        }\r\n        default:\r\n            return currentState;\r\n    }\r\n}\r\n\r\nexport default cartReducer;\r\n","const CHECKOUT_CONST = {\r\n    CHECKOUT_INITIALIZE: \"INITIALIZE_CHECKOUT_STEP\",\r\n    STEP_STATUS: \"SET_CHECKOUT_STEP_STATUS\",\r\n    DELIVERY_ADDRESS_SELECTED: \"DELIVERY_ADDRESS_SELECTED\",\r\n    DELIVERY_ADDRESS_CONFIRMED: \"DELIVERY_ADDRESS_CONFIRMED\",\r\n    ITEMS_TO_CHECKOUT: \"ADD_ITEMS_TO_CHECKOUT\",\r\n    REMOVE_ITEM: \"REMOVE_ITEM_FROM_CHECKOUT\",\r\n    CHECKOUT_TERMINATE: \"TERMINATE_CHECKOUT_STEP\"\r\n}\r\n\r\nexport default CHECKOUT_CONST;","import CHECKOUT_CONST from './checkout.const';\r\nconst INITIAL_STATE = {};\r\n\r\nconst checkoutReducer = (currentState = INITIAL_STATE, action) => {\r\n    switch(action.type){\r\n        case CHECKOUT_CONST.CHECKOUT_INITIALIZE:{\r\n            return { ...action.payload }\r\n        }\r\n        case CHECKOUT_CONST.STEP_STATUS:{\r\n            const step = currentState[`step${action.payload.step}`];\r\n            currentState[`step${action.payload.step}`] = {...step, status:action.payload.status,};\r\n            return { ...currentState};\r\n        }\r\n        case CHECKOUT_CONST.DELIVERY_ADDRESS_SELECTED:{\r\n            const { stepTwo } = currentState;\r\n            return { ...currentState, stepTwo:{...stepTwo, selectedAddressId:action.payload} }\r\n        }\r\n        case CHECKOUT_CONST.DELIVERY_ADDRESS_CONFIRMED:{\r\n            const { stepTwo } = currentState;\r\n            return { ...currentState, stepTwo:{...stepTwo, confirmedAddressId: action.payload} }\r\n        }\r\n        case CHECKOUT_CONST.ITEMS_TO_CHECKOUT:{\r\n            const { stepThree } = currentState;\r\n            return { ...currentState, stepThree:{...stepThree, checkoutItems: [...action.payload]} }\r\n        }\r\n        case CHECKOUT_CONST.REMOVE_ITEM:{\r\n            const { stepThree } = currentState;\r\n            const { checkoutItems }= stepThree;\r\n            return { ...currentState,  stepThree:{...stepThree, checkoutItems: checkoutItems.filter(product => action.payload !== product.productId )} }\r\n        }\r\n        case CHECKOUT_CONST.CHECKOUT_TERMINATE:{\r\n            return action.payload;\r\n        }\r\n        default:\r\n            return currentState;\r\n    }\r\n}\r\n\r\nexport default checkoutReducer;\r\n","import { combineReducers, persistReducer, storage } from \"../library\";\r\n\r\nimport customerReducer from './customer/customer.reducer';\r\nimport productReducer from './product/product.reducer';\r\nimport directoryReducer from './directory/directory.reducer'; \r\nimport miscReducer from './misc/misc.reducer'; \r\nimport cartReducer from './cart/cart.reducer';\r\nimport checkoutReducer from './checkout/checkout.reducer';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whitelist: ['Product','Customer','Cart']  //find a soln to remove Product from the whitelist\r\n}\r\n\r\nconst rootReducer = combineReducers ({\r\n    Customer: customerReducer,\r\n    Directory: directoryReducer,\r\n    Product: productReducer,\r\n    Misc: miscReducer,\r\n    Cart: cartReducer,\r\n    Checkout: checkoutReducer\r\n});\r\n\r\n\r\nexport default persistReducer(persistConfig, rootReducer);","import { createStore, applyMiddleware, persistStore, logger } from \"../library\";\r\nimport rootReducer from './root.reducer';\r\n\r\nconst middleware = [];\r\nif(process.env.NODE_ENV !== 'production'){\r\n    middleware.push(logger);\r\n}\r\nconst store = createStore(rootReducer, applyMiddleware(...middleware));\r\nconst persistor = persistStore(store);\r\n\r\nexport {store, persistor};","import { React } from \"../library\";\r\n\r\nconst Banner = ({items}) => (\r\n  <div id=\"carouselExampleIndicators\" className=\"carousel slide _bottom_space\" data-ride=\"carousel\">\r\n    <div className=\"carousel-inner\">\r\n      {\r\n        items.length > 0 && items.map((item,index) => (\r\n          <div className={`carousel-item ${index === 0?'active':''}`} key={index}>\r\n            <img className=\"d-block w-100\" src={item.imageUrl} alt={item.altName} />\r\n          </div>)\r\n        )\r\n      }\r\n    </div>\r\n    <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n      <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n      <span className=\"sr-only\">Previous</span>\r\n    </a>\r\n    <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n      <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n      <span className=\"sr-only\">Next</span>\r\n    </a>\r\n  </div>\r\n);\r\n\r\nexport default Banner;\r\n\r\n","import { getValue } from '../../library';\r\nimport { store } from '../../redux/store';\r\n\r\nexport const getUserId = () => getValue(store.getState(), 'Customer.loginDetails.id', \"\");\r\n\r\nexport const getCustomerLoginStatus = () => getValue(store.getState(), 'Customer.loginDetails.loginStatus', false);\r\n\r\nexport const getCustomerName = () => getValue(store.getState(), 'Customer.loginDetails.name', \"User\");\r\n\r\nexport const getCustomerLoginToken = () => getValue(store.getState(), 'Customer.loginDetails.loginToken', \"\");\r\n\r\nexport const getCustomerAddresses = () => getValue(store.getState(), 'Customer.addresses', []);\r\n\r\nexport const getCustomerOrders = () => getValue(store.getState(), 'Customer.orders', []);\r\n","import { getValue } from '../../library';\r\nimport { store } from '../../redux/store';\r\n\r\nexport const getCartItems = () => getValue(store.getState(), 'Cart.cartItems', []);\r\n","import CUSTOMER_CONST from './customer.const';\r\n\r\nexport const loginCustomer = user => ({\r\n    type: CUSTOMER_CONST.CUSTOMER_LOGIN,\r\n    payload: {...user}\r\n});\r\n\r\nexport const logoutCustomer = () => ({\r\n    type: CUSTOMER_CONST.CUSTOMER_LOGOUT\r\n});\r\n\r\nexport const setCustomerAddresses = (addresses) => ({\r\n    type: CUSTOMER_CONST.CUSTOMER_ADDRESSES,\r\n    payload: addresses\r\n});\r\n\r\nexport const setCustomerOrders = (orders) => ({\r\n    type: CUSTOMER_CONST.CUSTOMER_ORDERS,\r\n    payload: orders\r\n});\r\n","import CART_CONST from './cart.const';\r\n\r\nexport const addItemToCart = product => ({\r\n    type: CART_CONST.ADD_ITEM,\r\n    payload: product\r\n});\r\n\r\nexport const removeItemFromCart = productId => ({\r\n    type: CART_CONST.REMOVE_ITEM,\r\n    payload: productId\r\n});\r\n\r\nexport const mergeCustomerCart = customerCartItems => ({\r\n    type: CART_CONST.MERGE_CUSTOMER_CART,\r\n    payload: customerCartItems\r\n});\r\n\r\nexport const emptyCart = () => ({\r\n    type: CART_CONST.EMPTY_CART,\r\n    payload: []\r\n});\r\n\r\nexport const cleanCartAndAddItems = items => ({\r\n    type: CART_CONST.ADD_ITEMS,\r\n    payload : items\r\n})","import { getValue } from '../../library';\r\nimport { store } from '../../redux/store';\r\n\r\nexport const getCheckoutStepStatus = (step) => getValue(store.getState(), `Checkout.step${step}.status`, false);\r\n\r\nexport const getSelectedAddressId = () => getValue(store.getState(), 'Checkout.stepTwo.selectedAddressId', \"\");\r\n\r\nexport const getConfirmedAddressId = () => getValue(store.getState(), 'Checkout.stepTwo.confirmedAddressId', \"\");\r\n\r\nexport const getCheckoutItems = () => getValue(store.getState(), 'Checkout.stepThree.checkoutItems', []);","import {getValue} from '../../library';\r\nimport { store } from '../../redux/store'; \r\n\r\nexport const getHomeProducts = () => getValue(store.getState(), 'Product.homeProducts', []);\r\n\r\nexport const getSelectedProduct = () => getValue(store.getState(), 'Product.selectedProduct', {});\r\n","import { getValue, setValue } from \"../library\";\r\n\r\nimport { getCheckoutItems, getConfirmedAddressId } from \"../redux/checkout/checkout.selector\";\r\nimport { getCustomerAddresses } from \"../redux/customer/customer.selector\";\r\nimport { getHomeProducts } from \"../redux/product/product.selector\";\r\n\r\nimport APP_CONST from \"../APP_CONST\";\r\n\r\nexport const calculatePriceAfterDiscount = (actualPrice, discount) =>{\r\n    return actualPrice - (actualPrice * (discount/100));\r\n};\r\n\r\nexport const calculateSavingPrice = (actualPrice, discount) =>{\r\n    return (actualPrice * (discount/100));\r\n};\r\n\r\nexport const numberToPrice = number => number.toFixed(2);\r\n\r\nexport const getProductById = (products, productId) =>{\r\n    return products.find( product => getValue(product, 'productId', \"\") === productId );\r\n};\r\n\r\nexport const getProductsByType = (products, name, type) =>{\r\n    return products.filter( product => getValue(product, type, \"\").toLowerCase() === name.toLowerCase() );\r\n};\r\n\r\nexport const capitalize = ( str ) => str.charAt(0).toUpperCase() + str.slice(1);\r\n\r\n/*\r\n@items can be an object or array\r\n@object should be product type\r\n@array 0th element category and 1st element sub category \r\n*/\r\nexport const getBreadcrumSections = (item) =>{\r\n    const sections = [{ id: \"homepage\", name:\"Home\", link: '/' }];\r\n    if(getValue(item, 'productId', '')) {\r\n        sections.push({id: item.category, name: capitalize(item.category), link : `/${item.category}`});\r\n        sections.push({id: item.subCategory, name: capitalize(item.subCategory), link : `/${item.category}/${item.subCategory}`});\r\n        sections.push({id: item.productId, name: capitalize(item.productName)});\r\n    }\r\n    else{\r\n        if(item.length === 1){\r\n            sections.push({id: item[0], name: capitalize(item[0])});\r\n        }\r\n        else{\r\n            sections.push({id: item[0], name: capitalize(item[0]), link : `/${item[0]}`});\r\n            sections.push({id: item[1], name: capitalize(item[1])});\r\n        }\r\n    }\r\n    return sections;\r\n};\r\n\r\nexport const getAddressById = (addresses, id) => addresses.find( address => address._id === id);\r\n\r\nexport const beforeUnloadListener = (e) => {\r\n    e.preventDefault();\r\n    e.returnValue = \"The page that you're looking for used information that you entered. Returning to that page might cause any action you took to be repeated. Do you want to continue?\";\r\n};\r\n\r\nexport const parseQuery = (search) => new URLSearchParams(search);\r\n\r\nexport const prepareOrderDetails = () =>{\r\n    return{\r\n        checkoutItems: getCheckoutItems().map( item => ({productId: item.productId, quantity : 1})),\r\n        paymentType: \"C.O.D\",\r\n        deliveryAddress: getAddressById(getCustomerAddresses(), getConfirmedAddressId())\r\n    };\r\n};\r\n\r\nexport const mapProductsInOrders = (orders) => { \r\n    // would be better to include these minor product details in order schema\r\n    const products = getHomeProducts();\r\n    return orders.map( order => {\r\n        const product = getProductById(products, getValue(order, \"product.productId\", \"\"));\r\n        setValue(order, \"product.productName\", product.productName);\r\n        setValue(order, \"product.sellerId\", product.sellerId);\r\n        setValue(order, \"product.productImage\", product.productImages[0]);\r\n        return order;\r\n    });\r\n};\r\n\r\nexport const getCurrentStatus = (statusTrack) =>{\r\n    return APP_CONST.ORDER_STATUS[statusTrack[statusTrack.length-1].statusCd];\r\n};\r\n\r\nexport const getCurrentStatusDate = (statusTrack) =>{\r\n    return statusTrack[statusTrack.length-1].date;\r\n};\r\n\r\nexport const getFormattedDate = (unFormattedDate, format) => {\r\n    const newDate = new Date(unFormattedDate);\r\n    const date = newDate.getDate();\r\n    const day = new Intl.DateTimeFormat('en-US', { weekday: 'short'}).format(newDate);\r\n    const month = new Intl.DateTimeFormat('en-US', { month: 'short'}).format(newDate);\r\n    const year = newDate.getFullYear();\r\n   \r\n    switch(format){\r\n       case APP_CONST.DATE_FORMAT.MDtY :  return `${month} ${date}, ${year}`;\r\n       case APP_CONST.DATE_FORMAT.DyDtM :  return `${day}, ${date} ${month}`;\r\n       default :  return `${month} ${date}, ${year}`;\r\n    }\r\n};\r\n\r\nexport const mapOrderStatusDetails = (statusTrack) => {\r\n    const tracker = statusTrack.map(track => ({\r\n            ...track,\r\n            date: getFormattedDate(track.date, APP_CONST.DATE_FORMAT.DyDtM),\r\n            status: APP_CONST.ORDER_STATUS[track.statusCd]\r\n        })\r\n    );\r\n\r\n    for(let cd=tracker[tracker.length-1].statusCd+1; cd<=5; ++cd){\r\n        const expectedDate = new Date(tracker[cd-2].date).getTime();\r\n        const expectedTrack = {\r\n            _id: cd,\r\n            status: APP_CONST.ORDER_STATUS[cd],\r\n            date : cd === 5? `Expected by ${getFormattedDate(expectedDate, APP_CONST.DATE_FORMAT.DyDtM)}`:\r\n                            getFormattedDate(expectedDate+(2*24*60*60*1000), APP_CONST.DATE_FORMAT.DyDtM)\r\n        }\r\n        tracker.push(expectedTrack);\r\n    }\r\n    // Packed '@index 1' and Out for Delivery '@index 3' are mutually exclusive\r\n    const removeIndex = statusTrack.length <= 3? 3: 1; \r\n    return tracker.filter((track, index) => index !== removeIndex);\r\n};\r\n\r\nexport const sortByCreatedAt = ( orders ) => ( \r\n    orders.sort( (a, b) => (new Date(b.createdAt) - new Date(a.createdAt)) )\r\n);","import { getValue } from \"../library\"\r\nimport { calculateSavingPrice } from \"./util\";\r\n\r\nexport const isCartHasThisItem = (cartitem, newItem) => {\r\n    return cartitem.some(item => getValue(item, 'productId', \"\") === getValue(newItem, 'productId', false));\r\n};\r\n\r\nexport const calculateCartActualPrice = (cartItems) =>{\r\n    let price = 0; \r\n    cartItems.forEach( item=> { price += item.productActualPrice });\r\n    return price;\r\n};\r\n\r\nexport const calculateCartDiscountPrice = (cartItems) =>{\r\n    let discountPrice = 0; \r\n    cartItems.forEach( item=> { discountPrice += calculateSavingPrice(item.productActualPrice, item.discount) });\r\n    return discountPrice;\r\n};\r\n\r\nexport const calculateCartTotalPrice = (cartItems) =>{\r\n    let discountPrice = 0; \r\n    cartItems.forEach( item => { discountPrice += calculateSavingPrice(item.productActualPrice, item.discount) });\r\n    return discountPrice;\r\n};\r\n\r\nexport const mapCartProductsToIds = (cartItems) =>{\r\n   return cartItems.map( item => ({productId:item.productId, quantity:1}) );\r\n};\r\n\r\nexport const removeSelectedProducts = (selectedProducts, products) => {\r\n    return products.filter(product => {\r\n        return !selectedProducts.find(selectedProduct => selectedProduct.productId === product.productId)\r\n    });\r\n};","const PROD_URL = \"https://ukart-express-api.herokuapp.com\";\r\nconst LOCAL_URL = \"http://localhost:5000\";\r\nconst HOST = process.env.NODE_ENV === 'production'? PROD_URL: LOCAL_URL;\r\n\r\nexport const URL = {\r\n    PRODUCTS: `${HOST}/products/`,\r\n    CUSTOMER_ACCOUNT_CREATE: `${HOST}/account/create-customer/`,\r\n    CUSTOMER_LOGIN: `${HOST}/account/login-customer/`,\r\n    CART_ITEMS_SAVE: `${HOST}/account/save-cart-products/`,\r\n    CUSTOMER_ADDRESSES: `${HOST}/account/get-customer-addresses/`,\r\n    CUSTOMER_ADDRESS_ADD: `${HOST}/account/add-address/`,\r\n    CUSTOMER_ADDRESS_UPDATE: `${HOST}/account/update-address/`,\r\n    PLACE_ORDER: `${HOST}/order/place-order/`,\r\n    CUSTOMER_ORDERS: `${HOST}/order/get-order/`\r\n};","import { axios } from \"../library\";\r\nimport { URL } from \"./api.const\";\r\n\r\nimport { getCustomerLoginToken } from \"../redux/customer/customer.selector\";\r\n\r\nexport const getProducts = () => {\r\n    return axios.get(URL.PRODUCTS).then( ({ data })=>{\r\n        return data;\r\n    }).catch( ({response,message}) =>{\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const getProductById = (productId) => {\r\n    return axios.get(URL.PRODUCTS+productId).then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const createCustomerAccount = accountDetails => {\r\n    const {username, email, password} = accountDetails;\r\n    return axios.post(URL.CUSTOMER_ACCOUNT_CREATE, {customerName:username,customerEmail:email,customerPassword:password})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const loginCustomer = loginDetails => {\r\n    const {userId, password} = loginDetails;\r\n    return axios.post(URL.CUSTOMER_LOGIN, {customerEmail:userId, customerMobile:userId, customerPassword:password})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const saveCartItems = (cartProductIds, customerLoginToken ) => {\r\n    const headers = { 'Authorization' : customerLoginToken };\r\n    return axios.put(URL.CART_ITEMS_SAVE, {cartProducts: cartProductIds}, {headers})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const getCustomerAddresses = (customerLoginToken ) => {\r\n    const headers = { 'Authorization' : customerLoginToken };\r\n    return axios.get(URL.CUSTOMER_ADDRESSES, {headers})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const addCustomerAddress = (addressDetails, customerLoginToken) => {\r\n    const headers = { 'Authorization' : customerLoginToken };\r\n    return axios.put(URL.CUSTOMER_ADDRESS_ADD, {...addressDetails}, {headers})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const updateCustomerAddress = (addressDetails, customerLoginToken) => {\r\n    const headers = { 'Authorization' : customerLoginToken };\r\n    return axios.put(URL.CUSTOMER_ADDRESS_UPDATE+addressDetails._id, {...addressDetails}, {headers})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const placeOrder = (orderDetails, customerLoginToken) => {\r\n    const headers = { 'Authorization' : customerLoginToken };\r\n    return axios.post(URL.PLACE_ORDER, {...orderDetails}, {headers})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}\r\n\r\nexport const getOrders = () => {\r\n    const headers = { 'Authorization' : getCustomerLoginToken() };\r\n    return axios.get(URL.CUSTOMER_ORDERS, {headers})\r\n    .then( ({ data }) =>{\r\n        return data;\r\n    }).catch( ( {response,message} ) => {\r\n        throw response? response.data.errorMessage : message;\r\n    });\r\n}","import { React, Component, connect, withRouter } from \"../../library\";\r\n\r\nimport { getCustomerName } from \"../../redux/customer/customer.selector\";\r\nimport { getCustomerLoginToken } from \"../../redux/customer/customer.selector\";\r\nimport { getCartItems } from \"../../redux/cart/cart.selector\";\r\nimport { logoutCustomer } from \"../../redux/customer/customer.action\";\r\nimport { emptyCart } from \"../../redux/cart/cart.action\";\r\nimport { setLoader, setErrorMessage } from \"../../redux/misc/misc.action\";\r\nimport { mapCartProductsToIds } from \"../../utils/cartUtils\";\r\n\r\nimport * as api from \"../../api/api\";\r\n\r\nconst mapStateToProps = () => ({\r\n    customerName: getCustomerName(),\r\n    cartItems: getCartItems(),\r\n    customerLoginToken: getCustomerLoginToken()\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    logoutCustomer: () => dispatch(logoutCustomer()),\r\n    emptyCart: () => dispatch(emptyCart()),\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setErrorMessage: (errors) => dispatch(setErrorMessage(errors))\r\n});\r\n\r\nclass CutomerQuickLinks extends Component {\r\n    logoutCustomer = () => {\r\n        const {cartItems, customerLoginToken, emptyCart, logoutCustomer, setLoader, setErrorMessage } = this.props;\r\n        const cartProductIds = mapCartProductsToIds(cartItems);\r\n        setLoader(true);\r\n        api.saveCartItems(cartProductIds, customerLoginToken).then( response => {\r\n            response && emptyCart();\r\n            logoutCustomer();\r\n            setLoader(false);\r\n        }, reject => {\r\n            setErrorMessage([reject]);\r\n            setLoader(false);\r\n        });\r\n    }\r\n    \r\n    navigateToOrders = () =>{\r\n        this.props.history.push(\"/orders\");\r\n    }\r\n\r\n    render() {\r\n        const {customerName} = this.props;\r\n        return (\r\n            <span className=\"_dropdown py-3 btn\">\r\n                <div className=\"_dropdown_link py-1\"> {customerName} </div>\r\n                <div className=\"_dropdown_menu mt-3\">\r\n                    <div className=\"_dropdown_item _line_at_end\" onClick={this.logoutCustomer}>Logout</div>\r\n                    <div className=\"_dropdown_item\" onClick={this.navigateToOrders}>Orders</div>\r\n                </div>\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CutomerQuickLinks));","import { React, Link, connect } from \"../../library\";\r\n\r\nimport CutomerQuickLinks from '../loginSignup/cutomerQuickLinks';\r\nimport { getCustomerLoginStatus } from \"../../redux/customer/customer.selector\";\r\n\r\nconst mapStateToProps = () => ({\r\n    customerLoggedIn: getCustomerLoginStatus()\r\n});\r\n\r\nconst Header = ({hideCart, hideLogin, customerLoggedIn}) => {\r\n\r\n    return (\r\n        <nav className=\"navbar navbar-dark text-dark sticky-top _primary_bg pt-0 pb-0\">\r\n            <Link to={'/'} className=\"my-2 mx-2\">\r\n                <img src={\"../logo.png\"} alt=\"UKART\" style={{ width: \"8rem\" }} className=\"img-responsive\" />\r\n            </Link>\r\n            <div className =\"mx-2\">\r\n                {!hideLogin && (customerLoggedIn?\r\n                    <CutomerQuickLinks/>:\r\n                    <Link to={'/user/login'} className=\"mr-sm-2\">\r\n                        <button className=\"btn btn-outline-dark\">Login</button>\r\n                    </Link>)\r\n                }\r\n                {!hideCart && <Link to={'/cart'} className =\"my-2 my-sm-0\">\r\n                    <span className=\"btn\">\r\n                        <i className=\"material-icons\">shopping_cart</i>\r\n                        <span className=\"align-straight\">Cart</span>\r\n                    </span>\r\n                </Link>\r\n                }\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import { React, Link, connect } from \"../../library\";\r\n\r\nimport { getCategories } from \"../../redux/directory/directory.selector\";\r\n\r\nconst mapStateToProps = () => ({\r\n    categories: getCategories()\r\n});\r\n\r\nconst Directory = ({categories}) => {\r\n    return (\r\n        <nav className=\"navbar navbar-dark bg-dark navbar-expand-lg navbar-expand-lg p-1\">\r\n            <button className=\"navbar-toggler\" data-toggle=\"collapse\" data-target=\"#directoryList\">\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"directoryList\">\r\n                <ul className=\"navbar-nav text-md-center nav-justified w-100\">\r\n                {\r\n                    categories.map((category) => (\r\n                        <li className=\"nav-item\" key={category.id}>\r\n                            <Link\r\n                                className=\"nav-link small text-light\"\r\n                                to={`/${category.title.toLowerCase()}`}>\r\n                                    {category.title.toUpperCase()}\r\n                            </Link>\r\n                        </li>)\r\n                    )\r\n                }\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default connect(mapStateToProps)(Directory);","import {getValue} from '../../library';\r\nimport { store } from '../../redux/store';\r\n\r\nexport const getCategories = () => getValue(store.getState(), 'Directory.categories', []);\r\n","import { React, Component } from \"../../library\";\r\n\r\nexport default class WishlistButton extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = { wish: false };\r\n    }\r\n\r\n    toggleHeart = () =>{\r\n        this.setState({ wish: !this.state.wish });\r\n    }\r\n\r\n    render() {\r\n        const emptyHeart = \"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\";\r\n        const fillHeart = \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\";\r\n        return (\r\n            <span className=\"_top_right\" onClick={this.toggleHeart}>\r\n                <svg width=\"16\" height=\"16\" fill=\"red\">\r\n                    <path d={this.state.wish?fillHeart:emptyHeart}/>\r\n                </svg>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\n","import { React, Component, Link, Tile } from  '../../library';\r\n\r\nimport WishlistButton from './wishlistButton';\r\nimport { calculatePriceAfterDiscount, numberToPrice } from '../../utils/util';\r\n\r\nclass ProductOverview extends Component{\r\n    render(){\r\n        const {brand, productName, productActualPrice, discount, productId, productImages} = this.props.product;\r\n        return <Tile\r\n            className=\"col-md-3 col-sm-6 col-6 p-2\"\r\n            footer={\r\n                <React.Fragment>\r\n                    <strong className=\"_cut_text text-muted\">{brand}</strong>\r\n                    <span className=\"_cut_text\">{productName}</span>\r\n                    <div> \r\n                        <strong className=\"mr-2\">₹{numberToPrice(calculatePriceAfterDiscount(productActualPrice, discount))}</strong>\r\n                        <s className=\"mr-2\">{productActualPrice}</s>\r\n                        <small className=\"text-success\"><strong>{discount}% off</strong></small>  \r\n                    </div>\r\n                </React.Fragment>\r\n            }\r\n        >\r\n            <WishlistButton/>\r\n            <Link to={'/product/' + productId}>\r\n                <img\r\n                    src={productImages[0]}\r\n                    className=\"card-img-top\"\r\n                    alt={productName}\r\n                />\r\n            </Link>\r\n        </Tile>\r\n    }\r\n}\r\n\r\nexport default ProductOverview;\r\n","import { React, Component } from \"../../library\";\r\n\r\nclass ProductSliderButtons extends Component {\r\n    render() {\r\n        const {rightEnd, leftEnd, moveRight, moveleft} = this.props;\r\n        return (\r\n            <div className=\"_slider_button\">\r\n                <div className=\"_absolute_mid_left\">\r\n                    <button className=\"btn btn-secondary\" disabled={leftEnd} onClick={moveleft}>\r\n                        <i className=\"material-icons\">arrow_back_ios</i>\r\n                    </button>\r\n                </div>\r\n                <div className=\"_absolute_mid_right\">\r\n                    <button className=\"btn btn-secondary\" disabled={rightEnd} onClick={moveRight}>\r\n                        <i className=\"material-icons\">arrow_forward_ios</i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductSliderButtons;","import { React, Component, Link, Tile } from  '../../library';\r\n\r\nimport ProductOverview from \"../product/productOverview\";\r\nimport ProductSliderButtons from \"./productSliderButtons\";\r\n\r\nclass ProductSlider extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        const {products} = props;\r\n        const end = products.length<4? products.length: 4;\r\n        this.state = {visibleProducts:products.slice(0, end), start:0 , end};\r\n    }\r\n\r\n    moveleft = () =>{\r\n        const left = { start : this.state.start-1, end : this.state.end-1}\r\n        this.setState({visibleProducts : this.props.products.slice(left.start, left.end), ...left});\r\n    }\r\n\r\n    moveRight = () =>{\r\n        const right = { start : this.state.start+1, end : this.state.end+1}\r\n        this.setState({visibleProducts : this.props.products.slice(right.start, right.end), ...right});\r\n    }\r\n\r\n    render(){\r\n        const {products, title, link} = this.props;\r\n        const {visibleProducts, start, end} = this.state;\r\n        return (\r\n            <Tile className=\"m-2 mt-4\">\r\n                <ProductSliderButtons \r\n                    leftEnd={start === 0} \r\n                    rightEnd={end === products.length}\r\n                    moveleft={this.moveleft}\r\n                    moveRight={this.moveRight}/>\r\n\r\n                <div className=\"d-flex mb-2\">\r\n                    <div className=\"flex-grow-1\"><h5>{title}</h5></div>\r\n                    {link && <Link to={link}> <button className=\"btn btn-dark\">VIEW ALL</button> </Link>}\r\n                </div>\r\n\r\n                <div className = \"row\">\r\n                    { visibleProducts.map( (product) => <ProductOverview product={product} key={product.productId}/>) }\r\n                </div>\r\n            </Tile>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProductSlider;\r\n","import{ React, Component, connect } from \"../library\";\r\n\r\nimport Banner from \"../core-components/banner\";\r\nimport Header from \"../components/misc/header\";\r\nimport Directory from \"../components/misc/directory\";\r\nimport ProductSlider from \"../components/product/productSlider\";\r\n\r\nimport { getHomeProducts } from \"../redux/product/product.selector\";\r\nimport { addHomeProducts } from \"../redux/product/product.action\";\r\n\r\nimport { getProductsByType } from \"../utils/util\";\r\nimport * as api from \"../api/api.js\";\r\n\r\nconst caroselitems = [\r\n    {imageUrl:\"./banners/banner1.jpg\", altName:\"First slide\"},\r\n    {imageUrl:\"./banners/banner2.jpg\", altName:\"Second slide\"},\r\n    {imageUrl:\"./banners/banner3.jpg\", altName:\"Third slide\"},\r\n];\r\n\r\nconst mapStateToProps = () => {\r\n    const products = getHomeProducts();\r\n    return {\r\n        trending: products,\r\n        fashions: getProductsByType(products, \"Fashion\", 'category'),\r\n        electronics: getProductsByType(products, \"Electronics\", 'category')\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addHomeProducts: (products) => dispatch(addHomeProducts(products))\r\n});\r\n\r\nclass HomePage extends Component {\r\n    componentDidMount() {\r\n        api.getProducts().then( response => {\r\n            this.props.addHomeProducts(response);\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const {trending,fashions,electronics} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Header/>\r\n                <Directory/>\r\n                <div className=\"_light_bg\">\r\n                    <Banner items={caroselitems}/>\r\n                    <ProductSlider products = {trending} title=\"Trending Offers\"/>\r\n                    <ProductSlider products = {fashions} title=\"Fashions\" link=\"/fashion\"/>\r\n                    <ProductSlider products = {electronics} title=\"Electronics\" link=\"/electronics\"/>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);","import PRODUCT_CONST from './product.const';\r\n\r\nexport const addHomeProducts = products => ({\r\n    type: PRODUCT_CONST.HOME_PRODUCTS,\r\n    payload: products\r\n});\r\n\r\nexport const setCurrentProduct = selectedProduct => ({\r\n    type: PRODUCT_CONST.PRODUCT_SELECTED,\r\n    payload: selectedProduct\r\n});","export const validateEmail = (email) => {\r\n    const emailReg = /^[a-z, A-Z]\\w{2,}@[a-z,A-Z]{2,}.com$/;\r\n    return emailReg.test(email)?\"\":\"Please enter valid Email ID\";\r\n};\r\n\r\nexport const validateMobileNumber = (mobileNo) => {\r\n    const mobileNoReg = /^[6-9]\\d{9}$/; //indian 10 digit number\r\n    return mobileNoReg.test(mobileNo)?\"\":\"Please enter valid Mobile number\";\r\n};\r\n\r\nexport const validateUsername = (username) => {\r\n    const usernameReg = /^[a-z,A-Z]+$/;\r\n    return usernameReg.test(username)?\"\":\"Username should only contains alphabets\";\r\n};\r\n\r\nexport const validateUserId = (userId) =>{\r\n    if(validateMobileNumber(userId) && validateEmail(userId)) {\r\n        return \"Please enter valid Email ID/Mobile number\";\r\n    }\r\n    return \"\";\r\n};\r\n\r\nexport const validatePassword = (password) => {\r\n    if(password.length === 0){\r\n         return \"Please enter Password\";\r\n    }\r\n    else{\r\n        return password.length >=6? \"\": \"Password must be at least 6 characters\";\r\n    }\r\n};\r\n\r\nexport const validateName = (name) => {\r\n    const usernameReg = /^([a-z,A-Z]{3,}\\s?)*$/;\r\n    return usernameReg.test(name)?\"\":\"Name should only contains alphabets\";\r\n};\r\n\r\nexport const validatePincode = (pin) => {\r\n    const pincodeReg = /^[1-9]?\\d{5}$/; // 6 digit indian pincode\r\n    return pincodeReg.test(pin)?\"\":\"Please enter valid Pincode\";\r\n};\r\n\r\nexport const validateText = (text, errorLabel) => {\r\n    const textReg = /^[0-9a-zA-Z]{1,3}[0-9a-zA-Z/,: ]+$/; \r\n    return textReg.test(text)?\"\":errorLabel;\r\n};","import { React, Component, connect, Link, Tile, Field } from \"../../library\";\r\n\r\nimport { getHomeProducts } from \"../../redux/product/product.selector\";\r\nimport { getCartItems } from \"../../redux/cart/cart.selector\";\r\nimport { getLoginFromCheckout } from \"../../redux/misc/misc.selector\";\r\nimport { loginCustomer } from \"../../redux/customer/customer.action\";\r\nimport { mergeCustomerCart } from \"../../redux/cart/cart.action\";\r\nimport { setLoader, setErrorMessage, setSuccessMessage, setLoginFromCheckout } from \"../../redux/misc/misc.action\";\r\n\r\nimport { validateUserId, validatePassword } from \"../../utils/loginUtils\";\r\nimport { removeSelectedProducts } from \"../../utils/cartUtils\";\r\n\r\nimport * as api from \"../../api/api.js\";\r\n\r\nconst INITIAL_STATE = {\r\n    userId: \"\",\r\n    password: \"\",\r\n    error: {\r\n        userId: \"\",\r\n        password: \"\"\r\n    }\r\n};\r\n\r\nconst mapStateToProps = () => ({\r\n    products: getHomeProducts(), \r\n    cartItems: getCartItems(),\r\n    loginFromCheckout: getLoginFromCheckout()\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    loginCustomer: (user) => dispatch(loginCustomer(user)),\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setErrorMessage: (errors) => dispatch(setErrorMessage(errors)),\r\n    setSuccessMessage: (success) => dispatch(setSuccessMessage(success)),\r\n    unsetLoginFromCheckout:() => dispatch(setLoginFromCheckout(false)),\r\n    mergeCustomerCart: (cartProducts) => dispatch(mergeCustomerCart(cartProducts)),\r\n});\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = INITIAL_STATE;\r\n    }\r\n\r\n    validateForm = () => {\r\n        const error = {};\r\n        error.userId = validateUserId(this.state.userId);\r\n        error.password = validatePassword(this.state.password);\r\n        this.setState({error});\r\n        return !(error.userId||error.password);\r\n    }\r\n\r\n    mergeCustomerCart = (savedCartItems) => {\r\n       const { products, cartItems, mergeCustomerCart } = this.props;\r\n       const cartProducts = [];\r\n       const savedCartItemsAfterFilter = removeSelectedProducts(cartItems, savedCartItems);\r\n       savedCartItemsAfterFilter.forEach(cartItem => {\r\n            let result = products.find(product => product.productId === cartItem.productId);\r\n            result && cartProducts.push(result);\r\n        });\r\n        mergeCustomerCart(cartProducts);\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        const {loginCustomer, setLoader, setErrorMessage, setSuccessMessage, loginFromCheckout, unsetLoginFromCheckout, history} = this.props;\r\n        event.preventDefault();\r\n        if(this.validateForm()){\r\n            setLoader(true);\r\n            api.loginCustomer(this.state).then( response =>{\r\n                const {token, customerData, message} = response;\r\n                loginCustomer({\r\n                    id: customerData.customerId, \r\n                    name: customerData.customerName,\r\n                    loginStatus: true,\r\n                    loginToken: token\r\n                });\r\n                this.mergeCustomerCart(customerData.cart);\r\n                this.setState(INITIAL_STATE);\r\n                if(loginFromCheckout){\r\n                    unsetLoginFromCheckout();\r\n                    history.goBack();\r\n                }\r\n                else\r\n                    history.push('/');\r\n                setErrorMessage([]);\r\n                setSuccessMessage([message]);\r\n                setLoader(false);\r\n            }, reject =>{ \r\n                setErrorMessage([reject]);\r\n                setLoader(false);\r\n            })\r\n        }\r\n    };\r\n\r\n    handleChange = event => {\r\n        const { name, value } = event.target;\r\n        const error = {...this.state.error};\r\n        error[name] = \"\";\r\n        this.setState({ [name]: value });\r\n        this.setState({ error });\r\n    };\r\n\r\n    render() {\r\n        const {userId, password, error} = this.state;\r\n        return (\r\n            <React.Fragment> \r\n                <Tile \r\n                    id = \"LOGIN\"\r\n                    header = {<h4>Login</h4>}>\r\n                    <Field\r\n                        id=\"user-id\" \r\n                        inputType=\"TEXTBOX\"\r\n                        name=\"userId\"\r\n                        value = {userId}\r\n                        errorlabel = {error.userId}\r\n                        onChange = {this.handleChange}\r\n                        label = \"Email or mobile phone number\"/>\r\n                    <Field\r\n                        id=\"password\" \r\n                        inputType=\"PASSWORD\"\r\n                        name=\"password\"\r\n                        value = {password}\r\n                        errorlabel = {error.password}\r\n                        onChange = {this.handleChange}\r\n                        label=\"Password\"/>\r\n                    <button \r\n                        className=\"btn btn-block _primary_bg\"\r\n                        onClick={this.handleSubmit}>\r\n                        Login\r\n                    </button>\r\n                </Tile>\r\n                <span className=\"_text_sm_light\">New to Ukart?</span>\r\n                <Link to={\"/user/register\"} style={{ textDecoration: 'none' }}>\r\n                    <button\r\n                        className=\"btn btn-block btn-outline-dark\">\r\n                        Create your account\r\n                    </button>\r\n                </Link>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","import { getValue } from \"../../library\";\r\nimport { store } from '../../redux/store';\r\n\r\nexport const getLoaderStatus = () => getValue(store.getState(), \"Misc.loader.status\", false);\r\n\r\nexport const getErrorMessages = () => getValue(store.getState(), \"Misc.error.message\", []);\r\n\r\nexport const getSuccessMessages = () => getValue(store.getState(), \"Misc.success.message\", []);\r\n\r\nexport const getLoginFromCheckout = () => getValue(store.getState(), \"Misc.loginFromCheckout.status\", false);\r\n\r\nexport const getFooterDisplay = () => getValue(store.getState(), \"Misc.footerDisplay.status\", true);","import { React, Component, connect, Link, Tile, Field } from \"../../library\";\r\n\r\nimport { setLoader, setErrorMessage, setSuccessMessage } from \"../../redux/misc/misc.action\";\r\nimport { validateEmail, validateUsername, validatePassword } from \"../../utils/loginUtils\";\r\nimport * as api from \"../../api/api.js\";\r\n\r\nconst INITIAL_STATE = {\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    rePassword: \"\",\r\n    error: {\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        rePassword: \"\",\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setErrorMessage: (errors) => dispatch(setErrorMessage(errors)),\r\n    setSuccessMessage: (success) => dispatch(setSuccessMessage(success))\r\n});\r\n\r\nclass Signup extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = INITIAL_STATE;\r\n    }\r\n    \r\n    validateForm = () => {\r\n        const {username, email, password, rePassword} = this.state;\r\n        const error = {};\r\n        error.username = validateUsername(username);\r\n        error.email =  validateEmail(email);\r\n        error.password = validatePassword(password);\r\n        error.rePassword = rePassword === password?\"\":\"Passwords must match\";\r\n        this.setState({error});\r\n        return !(error.userId||error.email||error.password||error.rePassword);\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        const { setLoader, setErrorMessage, setSuccessMessage } = this.props;\r\n        event.preventDefault();\r\n        if(this.validateForm()){\r\n            setLoader(true);\r\n            api.createCustomerAccount(this.state).then( response =>{\r\n                this.setState(INITIAL_STATE);\r\n                this.props.history.push('/user/login');\r\n                setErrorMessage([]);\r\n                setSuccessMessage([response]);\r\n                setLoader(false);\r\n            },reject =>{ \r\n                setErrorMessage([reject]);\r\n                setLoader(false);\r\n            })\r\n        }\r\n    };\r\n\r\n    handleChange = event => {\r\n        const { name, value } = event.target;\r\n        const error = {...this.state.error};\r\n        error[name] = \"\";\r\n        this.setState({ [name]: value });\r\n        this.setState({ error });\r\n    };\r\n\r\n    render() {\r\n        const {username, email, password, rePassword, error} = this.state;\r\n        return (\r\n                <Tile \r\n                    id = \"CREATE_ACCOUNT\"\r\n                    header = {<h4>Create account</h4>}>\r\n                    <Field\r\n                        id=\"username\"\r\n                        inputType=\"TEXTBOX\"\r\n                        name=\"username\"\r\n                        value = {username}\r\n                        errorlabel = {error.username}\r\n                        onChange = {this.handleChange}\r\n                        label=\"Your name\"/>\r\n                    <Field\r\n                        id=\"email\"\r\n                        inputType=\"TEXTBOX\"\r\n                        name=\"email\"\r\n                        value = {email}\r\n                        errorlabel = {error.email}\r\n                        onChange = {this.handleChange}\r\n                        label=\"Email\"/>\r\n                    <Field\r\n                        id=\"password\"\r\n                        inputType=\"PASSWORD\"\r\n                        name=\"password\"\r\n                        value = {password}\r\n                        errorlabel = {error.password}\r\n                        onChange = {this.handleChange}\r\n                        label=\"Password\"/>\r\n                    <Field\r\n                        id=\"re-password\"\r\n                        inputType=\"PASSWORD\"\r\n                        name=\"rePassword\"\r\n                        value = {rePassword}\r\n                        errorlabel = {error.rePassword}\r\n                        onChange = {this.handleChange}\r\n                        label=\"Re-enter password\"/>\r\n                    <button\r\n                        className=\"btn btn-block _primary_bg\"\r\n                        onClick={this.handleSubmit}>\r\n                        Create your account\r\n                    </button>\r\n                    <span className=\"_text_sm\">\r\n                        Already have an account?<Link to=\"/user/login\"> Sign-In </Link>\r\n                    </span>\r\n                </Tile>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Signup);","import { React, Component, Link, Route, Switch, connect } from \"../library\";\r\n\r\nimport Login from \"../components/loginSignup/login\";\r\nimport Signup from \"../components/loginSignup/signup\";\r\n\r\nimport {setFooterDisplay} from \"../redux/misc/misc.action\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setFooterDisplay : (status) => dispatch(setFooterDisplay(status))    \r\n})\r\n\r\nclass LoginSignupPage extends Component {\r\n    componentDidMount(){\r\n        this.props.setFooterDisplay(false);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.props.setFooterDisplay(true);\r\n    }\r\n    \r\n    render(){\r\n        const {path} = this.props.match;\r\n        return(\r\n            <div className=\"col-lg-4 col-md-6 col-sm-8 col-xs-8 offset-lg-4 offset-md-3 offset-sm-2 offset-xs-2\">\r\n                <Link to=\"/\">\r\n                    <div className=\"text-center _vertical_space\">\r\n                        <img src={\"../logo.png\"} alt=\"UKART\" style={{ width: \"13rem\" }} className=\"img-responsive\" />\r\n                    </div>\r\n                </Link>\r\n                <Switch>\r\n                    <Route path={`${path}/register`} component={Signup} />\r\n                    <Route path={`${path}`} component={Login} />\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginSignupPage);","import { React, Component, Link } from \"../../library\";\r\n\r\nclass Breadcrum extends Component{\r\n    render(){\r\n        const {sections} = this.props;\r\n        return(\r\n            <div className=\"container ml-0 pt-3 pb-3\">\r\n                <div className = \"row\">\r\n                    {\r\n                        sections.map( section => (\r\n                            <span key={section.id} className=\"_flex_container small\">\r\n                                {section.link ? (\r\n                                    <Link to={section.link} className=\"_flex_item\">{section.name}</Link> ) :\r\n                                    <span className=\"_flex_item\">{section.name}</span>\r\n                                }\r\n                                {section.link && <span className=\"_flex_item\">&#8811;</span>}\r\n                            </span> \r\n                            )\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Breadcrum;","import { React, Component, connect, withRouter } from \"../../library\";\r\n\r\nimport { getCartItems } from \"../../redux/cart/cart.selector\";\r\nimport { addItemToCart } from '../../redux/cart/cart.action';\r\nimport { isCartHasThisItem } from \"../../utils/cartUtils\";\r\n\r\nimport APP_CONST from \"../../APP_CONST\";\r\n\r\nconst mapStateToProps = () => ({\r\n  cartItems: getCartItems()\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addItemToCart: (item) => dispatch(addItemToCart(item))\r\n});\r\n\r\nclass ProductLeftSection extends Component {\r\n  addToCart = () =>{\r\n    const { addItemToCart, product, cartItems, history } = this.props;\r\n    if(!isCartHasThisItem(cartItems, product)){\r\n      addItemToCart(product);\r\n    }\r\n    history.push('/cart');\r\n  } \r\n  \r\n  buyNow = () => {\r\n    const { addItemToCart, product, cartItems, history } = this.props;\r\n    if(!isCartHasThisItem(cartItems, product)){\r\n      addItemToCart(product);\r\n    }\r\n    history.push(`/checkout?${APP_CONST.QUERY.PRODUCT_ID}=${product.productId}`);\r\n  }\r\n  \r\n  render() {\r\n    const { productImages, productName } = this.props.product;\r\n    return (\r\n      <div>\r\n        <img className=\"img-thumbnail\" src={productImages[0]} alt={productName} />\r\n        <br /><br />\r\n        <div className=\"row mb-3\">\r\n          <div className=\"col-6 pr-0\">\r\n            <button className=\"btn btn-outline-dark btn-md btn-block\" onClick={this.addToCart}>\r\n              <i className=\"material-icons _align_middle\">shopping_cart</i>\r\n              <span className=\"align-straight _align_middle\">Add to Cart</span> \r\n            </button>\r\n          </div>\r\n          <div className=\"col-6 pl-1\">\r\n            <button className=\"btn btn-dark btn-md btn-block\" onClick={this.buyNow}>\r\n              <i className=\"material-icons _align_middle\">play_arrow</i>\r\n              <span className=\"align-straight _align_middle\">Buy Now</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ProductLeftSection));","import { React, Component } from \"../../library\";\r\n\r\nimport { calculatePriceAfterDiscount, calculateSavingPrice, numberToPrice } from \"../../utils/util\";\r\n\r\nexport default class ProductRightSection extends Component {\r\n    render() {\r\n        const { productName, rating, productActualPrice, discount, description, highlights } = this.props.product;\r\n        return (\r\n          <div>\r\n            <h4>{productName}</h4>\r\n              <h6><span className=\"badge badge-primary\">{rating}</span></h6>\r\n              <table>\r\n                <tbody>\r\n                  <tr>\r\n                    <td>MRP </td>\r\n                    <td>: <strike>&#8377; {productActualPrice}</strike></td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>Price </td>\r\n                    <td>: <span className=\"_text_lg_dark\">\r\n                            &#8377; {numberToPrice(calculatePriceAfterDiscount(productActualPrice, discount))}\r\n                          </span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>You Save </td>\r\n                    <td>: <span>\r\n                            &#8377; {numberToPrice(calculateSavingPrice(productActualPrice, discount))} ({discount}%)\r\n                          </span>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table><br/>\r\n              <h5>Description</h5>\r\n              <p>{description}</p>\r\n              <h5>Highlight</h5>\r\n              <ul>{highlights.map((highlight, key) => <li key={key}>{highlight}</li>)}\r\n              </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { React, Component, connect, isNotEmpty } from \"../../library\";\r\n\r\nimport ProductLeftSection from \"./productLeftSection\";\r\nimport ProductRightSection from \"./productRightSection\";\r\n\r\nimport { getSelectedProduct } from \"../../redux/product/product.selector\";\r\n\r\nconst mapStateToProps = () => ({\r\n    product: getSelectedProduct()\r\n});\r\n\r\nclass ProductDetails extends Component {\r\n    render(){\r\n        const { product } = this.props;\r\n        return (\r\n            isNotEmpty(product) && (\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-5\">\r\n                        <ProductLeftSection product={product}/>\r\n                    </div>\r\n                    <div className=\"col-md-7\">\r\n                        <ProductRightSection product={product}/>\r\n                    </div>\r\n                </div>\r\n            )\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProductDetails);","import { React, Component, connect } from \"../library\";\r\n\r\nimport Header from \"../components/misc/header\";\r\nimport Directory from \"../components/misc/directory\";\r\nimport Breadcrum from \"../components/misc/breadcrum\";\r\nimport ProductDetails from \"../components/product/productDetails\";\r\n\r\nimport { getHomeProducts } from \"../redux/product/product.selector\";\r\nimport { setCurrentProduct } from \"../redux/product/product.action\";\r\nimport { getProductById, getBreadcrumSections } from \"../utils/util\";\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    const availableProducts = getHomeProducts();\r\n    const selectedProduct = getProductById(availableProducts, props.match.params.productId);\r\n    const breadcrumSections = getBreadcrumSections(selectedProduct);\r\n    return { \r\n        selectedProduct, \r\n        breadcrumSections \r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setCurrentProduct: (selectedProduct) => dispatch(setCurrentProduct(selectedProduct))\r\n});\r\n\r\nclass ProductPage extends Component {\r\n    componentDidMount(){\r\n        const { setCurrentProduct, selectedProduct } = this.props;\r\n        setCurrentProduct(selectedProduct);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <React.Fragment>\r\n                <Header/>\r\n                <Directory/>\r\n                <div className =\"container\">\r\n                    <Breadcrum sections={this.props.breadcrumSections}/>\r\n                    <ProductDetails/>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductPage);","import { React, Component } from \"../../library\";\r\n\r\nimport ProductOverview from \"./productOverview\";\r\n\r\nclass ProductList extends Component{\r\n    render(){\r\n        const {products} = this.props;\r\n        return(\r\n            <div className = \"row\">\r\n                { products.map( (product) => <ProductOverview product={product} key={product.productId}/>) }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProductList;\r\n","import { React, Component, connect } from \"../library\";\r\n\r\nimport Header from \"../components/misc/header\";\r\nimport Directory from \"../components/misc/directory\";\r\nimport Breadcrum from \"../components/misc/breadcrum\";\r\nimport ProductList from \"../components/product/productList\";\r\n\r\nimport { getHomeProducts } from \"../redux/product/product.selector\";\r\nimport { getProductsByType, getBreadcrumSections } from \"../utils/util\";\r\n\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    const products = getHomeProducts();\r\n    let productsByType, breadcrumSections;\r\n    if( props.match.params.subCategory ){\r\n        productsByType = getProductsByType(products, props.match.params.subCategory, 'subCategory');\r\n        breadcrumSections = getBreadcrumSections([props.match.params.category, props.match.params.subCategory]);\r\n    }\r\n    else{\r\n        productsByType = getProductsByType(products, props.match.params.category, 'category');\r\n        breadcrumSections = getBreadcrumSections([props.match.params.category]);\r\n    }\r\n    return {\r\n        productsByType,\r\n        breadcrumSections \r\n    };\r\n};\r\n\r\nclass DirectoryPage extends Component {\r\n    render(){\r\n        const {productsByType, breadcrumSections} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Header/>\r\n                <Directory/>\r\n                <div className =\"container\">\r\n                    <Breadcrum sections = {breadcrumSections}/>\r\n                    <ProductList products = {productsByType}/>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(DirectoryPage);","import { React, Component, Link, connect, Tile } from \"../../library\";\r\nimport { getCustomerLoginStatus } from \"../../redux/customer/customer.selector\";\r\n\r\nconst mapStateToProps = () => ({\r\n    Loggedin: getCustomerLoginStatus()\r\n});\r\n\r\nclass EmptyCart extends Component {\r\n    loggedInCartSection = () =>{\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"text-center\">\r\n                    <p className=\"blockquote mb-0 mt-3\">Your cart is empty!</p>\r\n                    <p><small>Add items to it now</small></p>\r\n                </div>\r\n                <div className=\"offset-md-2 col-md-8\">\r\n                    <Link to=\"/\" className=\"btn btn-block _primary_bg\"> Shop now </Link>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n    \r\n    loggedOutCartSection = () =>{\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"text-center\">\r\n                    <p className=\"blockquote mb-0 mt-3\">Missing Cart items?</p>\r\n                    <p><small>Login to see the items you added previously</small></p>\r\n                </div>\r\n                <div className=\"offset-md-2 col-md-8\">\r\n                    <Link to=\"/user/login\" className=\"btn btn-block _primary_bg\"> Login </Link>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { Loggedin } = this.props;\r\n        return (\r\n            <Tile className =\"container mt-4\"> \r\n                <div className =\"row justify-content-md-center\">\r\n                    <div className =\"col-md-4 mt-4 mb-4\">\r\n                        <div className = \"text-center\">\r\n                            <img src={\"../empty-cart.png\"} alt=\"Empty cart\" style={{ width: \"13rem\" }} className=\"img-responsive\" />\r\n                            { Loggedin? this.loggedInCartSection(): this.loggedOutCartSection() }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Tile>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(EmptyCart);","import { React, Component, connect, Tile } from '../library';\r\nimport { numberToPrice } from \"../utils/util\";\r\nimport { calculateCartActualPrice, calculateCartDiscountPrice } from \"../utils/cartUtils\";\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    const actualTotalPrice = numberToPrice(calculateCartActualPrice(props.items));\r\n    const discountPrice = numberToPrice(calculateCartDiscountPrice(props.items));\r\n    return{\r\n        actualTotalPrice ,\r\n        discountPrice,\r\n        totalItems: props.items.length,\r\n        totalPrice: numberToPrice(actualTotalPrice-discountPrice)\r\n    }\r\n}\r\n\r\nclass PriceDetail extends Component {\r\n    render() {\r\n        const {totalItems, actualTotalPrice, discountPrice, totalPrice} = this.props;\r\n        return (\r\n            <div>\r\n                <Tile>\r\n                    <h6 className=\"text-muted\">PRICE DETAILS</h6>\r\n                    <hr/>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <p>Price ({`${totalItems} item${totalItems>1? 's': ''}`})</p> \r\n                        <p>₹{actualTotalPrice}</p>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <p>Discount</p> \r\n                        <p className=\"text-success\">- ₹{discountPrice} </p>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <p>Delivery Charges</p> \r\n                        <p>₹40 </p>\r\n                    </div>\r\n                    <hr/>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <h5>Total Amount</h5> \r\n                        <h5>₹{totalPrice} </h5>\r\n                    </div>\r\n                    <hr/>\r\n                    <p className=\"text-success\">You will save ₹{discountPrice} on this order</p> \r\n                </Tile>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PriceDetail)","import { React, Component, Link } from \"../library\";\r\n\r\nimport { calculatePriceAfterDiscount } from \"../utils/util\";\r\n\r\nexport default class ItemList extends Component {\r\n    render() {\r\n        const { items, handleRemoveItem } = this.props;\r\n        return (items.map((item, index) => {\r\n            const {brand, productName, productActualPrice, discount, productId, productImages} = item;\r\n                return(<div key={productId}>\r\n                    {index>0 && <hr/>}\r\n                    <div className=\"mt-2 row\">\r\n                        <div className=\"col-md-2 col-sm-3 col-3\">\r\n                            <Link to={`product/${productId}`}><img className=\"img-thumbnail\" src={productImages[0]} alt={productName} /></Link>\r\n                        </div>\r\n                        <div className=\"col-md-6 col-sm-5 col-5 px-0\">\r\n                            <Link to={`product/${productId}`}><p className=\"_cut_text\">{productName}</p></Link>\r\n                            <div className=\"text-muted\"><small>{brand}</small></div>\r\n                            <div>\r\n                                <strong className=\"mr-2\">₹{calculatePriceAfterDiscount(productActualPrice, discount, 2)}</strong>\r\n                                <s className=\"mr-2\">{productActualPrice}</s>\r\n                                <small className=\"text-success\"><strong>{discount}% off</strong></small>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-3 col-sm-3 col-3\">\r\n                            <p><small>Delivery in 2 days, Mon | ₹40 </small></p>\r\n                        </div>\r\n                        <div className=\"col-1 p-0\">\r\n                            <div className=\"_absolute_top_right\">\r\n                                <span className=\"btn text-danger\" onClick={() => handleRemoveItem(productId)}>\r\n                                    <span className=\"material-icons _icon\">delete</span>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>)\r\n            })\r\n        )\r\n    }\r\n}\r\n","import { React, Component, connect, Link, Tile } from \"../library\";\r\n\r\nimport Header from \"../components/misc/header\";\r\nimport EmptyCart from \"../components/cart/emptyCart\";\r\nimport PriceDetail from \"../components/priceDetail\";\r\nimport ItemList from \"../components/itemList\";\r\n\r\nimport { getCartItems } from '../redux/cart/cart.selector';\r\nimport { removeItemFromCart } from \"../redux/cart/cart.action\";\r\n\r\nconst mapStateToProps = () => ({ \r\n    cartItems : getCartItems()\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    removeItemFromCart: (productId) => dispatch(removeItemFromCart(productId))\r\n});\r\n\r\nclass CartPage extends Component {\r\n    render(){\r\n        const { cartItems, removeItemFromCart } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Header hideCart={true}/>\r\n                { (cartItems.length === 0)? <EmptyCart/>:(\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"row mt-4\">\r\n                            <div className=\"col-md-8 col-sm-8 mb-3\"> \r\n                                <Tile>\r\n                                    <h5>{`My Cart (${cartItems.length})`}</h5><hr/>\r\n                                    <ItemList items={cartItems} handleRemoveItem ={removeItemFromCart}/>\r\n                                </Tile>\r\n                                <Tile>\r\n                                    <div className=\"row\">\r\n                                        <div className= \"offset-md-7 col-md-5 offset-6 col-6\">\r\n                                            <Link to=\"./checkout\" \r\n                                                className=\"btn btn-dark btn-block\" \r\n                                                onClick={this.handlePlaceOrder}> \r\n                                                    <small>PLACE ORDER</small>  \r\n                                            </Link>\r\n                                        </div>\r\n                                    </div>\r\n                                </Tile>\r\n                            </div>\r\n                            <div className=\"col-md-4 col-sm-4\"> \r\n                                <PriceDetail items={cartItems}/> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ) }\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartPage);","import CHECKOUT_CONST from './checkout.const';\r\n\r\nexport const initializeCheckoutSteps = () => ({\r\n    type: CHECKOUT_CONST.CHECKOUT_INITIALIZE,\r\n    payload: {  stepOne:{status:false}, \r\n                stepTwo:{status:false}, \r\n                stepThree:{status:false}, \r\n                stepFour:{status:false}\r\n            }\r\n});\r\n\r\nexport const setCheckoutStepStatus = (step, status) => ({\r\n    type: CHECKOUT_CONST.STEP_STATUS,\r\n    payload: {step, status}\r\n});\r\n\r\nexport const setSelectedAddressId = (addressId) => ({\r\n    type: CHECKOUT_CONST.DELIVERY_ADDRESS_SELECTED,\r\n    payload: addressId\r\n});\r\n\r\nexport const setConfirmedAddressId = (addressId) => ({\r\n    type: CHECKOUT_CONST.DELIVERY_ADDRESS_CONFIRMED,\r\n    payload: addressId\r\n});\r\n\r\nexport const moveItemsToCheckout = (cartItems) => ({\r\n    type: CHECKOUT_CONST.ITEMS_TO_CHECKOUT,\r\n    payload: cartItems\r\n});\r\n\r\nexport const removeItemFromCheckout = productId => ({\r\n    type: CHECKOUT_CONST.REMOVE_ITEM,\r\n    payload: productId\r\n});\r\n\r\nexport const terminateCheckout = () => ({\r\n    type: CHECKOUT_CONST.CHECKOUT_TERMINATE,\r\n    payload: {}\r\n});","import { React, Component, connect, withRouter, Tile} from \"../../library\";\r\n\r\nimport { getCustomerLoginStatus, getCustomerName } from \"../../redux/customer/customer.selector\";\r\nimport { getCustomerLoginToken } from \"../../redux/customer/customer.selector\";\r\nimport { getCartItems } from \"../../redux/cart/cart.selector\";\r\nimport { getCheckoutStepStatus } from \"../../redux/checkout/checkout.selector\";\r\nimport { logoutCustomer } from \"../../redux/customer/customer.action\";\r\nimport { setCheckoutStepStatus } from \"../../redux/checkout/checkout.action\";\r\nimport { emptyCart } from \"../../redux/cart/cart.action\";\r\nimport { setLoader, setErrorMessage, setLoginFromCheckout } from \"../../redux/misc/misc.action\";\r\n\r\nimport { mapCartProductsToIds } from \"../../utils/cartUtils\";\r\nimport  APP_CONST from \"../../APP_CONST\";\r\nimport * as api from \"../../api/api\";\r\n\r\nconst mapStateToProps = () => ({\r\n    customerName: getCustomerName(),\r\n    customerLoginToken: getCustomerLoginToken(),\r\n    cartItems: getCartItems(),\r\n    isLoggedIn: getCustomerLoginStatus(),\r\n    stepOneStatus: getCheckoutStepStatus(APP_CONST.STEP.ONE)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    logoutCustomer: () => dispatch(logoutCustomer()),\r\n    emptyCart: () => dispatch(emptyCart()),\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setLoginFromCheckout: () => dispatch(setLoginFromCheckout(true)),\r\n    setErrorMessage: (errors) => dispatch(setErrorMessage(errors)),\r\n    setCheckoutStatus: (step, status) => dispatch(setCheckoutStepStatus(step, status))\r\n});\r\n\r\nclass LoginCheck extends Component {\r\n    getHeaderContent = (color) => (\r\n        <React.Fragment>\r\n            <span className={`badge badge-${color}`}>1</span>\r\n            <span className=\"text-muted px-1\"><strong>LOGIN</strong></span>\r\n        </React.Fragment>\r\n    );\r\n\r\n    logoutAndSignin = () =>{\r\n        const {cartItems, customerLoginToken, emptyCart, logoutCustomer, setLoader, setErrorMessage, history} = this.props;\r\n        const cartProductIds = mapCartProductsToIds(cartItems);\r\n        setLoader(true);\r\n        api.saveCartItems(cartProductIds, customerLoginToken).then( response => {\r\n            response && emptyCart();\r\n            logoutCustomer();\r\n            history.push('/');\r\n            setLoader(false);\r\n        }, reject => {\r\n            setErrorMessage([reject]);\r\n            setLoader(false);\r\n        });\r\n    }\r\n\r\n    changeDetail = () =>{\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.ONE, APP_CONST.OPEN);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.TWO, false);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.THREE, false);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.FOUR, false);\r\n    }\r\n\r\n    continueCheckout = () =>{\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.ONE, APP_CONST.CHECKED);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.TWO, APP_CONST.OPEN);\r\n    }\r\n\r\n    handleLoginToCheckout = () =>{\r\n        this.props.setLoginFromCheckout();\r\n        this.props.history.push('/user/login');\r\n    }\r\n    \r\n    showUncheckedLogin = () => (\r\n        this.props.isLoggedIn? (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-5 col-sm-6\">\r\n                        <div className=\"small py-1\">\r\n                            <span className=\"text-muted\">Name</span>\r\n                            <strong className=\"ml-2\">{this.props.customerName}</strong>\r\n                        </div>\r\n                        <button className=\"btn btn-link p-0\" onClick={this.logoutAndSignin}><small>Logout & Sign in to another account</small></button>\r\n                        <button className=\"btn btn-dark btn-block my-3 px-0\" onClick={this.continueCheckout}><small> CONTINUE CHECKOUT </small></button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <small className=\"col-md-12 text-muted\"> Please note that upon clicking \"Logout\" you will lose all items in cart and will be redirected to home page</small>\r\n                </div>\r\n            </div>):(\r\n            <div className=\"row\">\r\n                <div className=\"col-md-5\">\r\n                    <button onClick={this.handleLoginToCheckout} className=\"btn btn-dark btn-block my-3 px-0\"><small> LOGIN TO CHECKOUT </small></button>\r\n                </div>\r\n                <small className=\"col-md-12 text-muted\"> Please note that upon clicking \"Login\" your last saved cart items will be added with current cart items</small>\r\n            </div>\r\n        )\r\n    );\r\n\r\n    showCheckedLogin = () => (\r\n        <React.Fragment>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-9 col-sm-9 col-8\">\r\n                    {this.getHeaderContent('light')}\r\n                    <span className=\"text-dark\"><strong>&#x2713;</strong></span>\r\n                    <div className=\"col pl-3 ml-1\">\r\n                        <small><strong>{this.props.customerName}</strong></small>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-sm-3 col-sm-3 col-4 pr-1 pl-0\">\r\n                    <button className=\"btn btn-outline-dark btn-block px-0\" onClick={this.changeDetail}>Change</button>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    );\r\n\r\n    render() {\r\n        const {stepOneStatus} = this.props;\r\n        return (\r\n            <Tile\r\n                className=\"mb-3\"\r\n                headerClass =\"_primary_bg\"\r\n                header={stepOneStatus === APP_CONST.OPEN && this.getHeaderContent('dark')}>\r\n                { stepOneStatus === APP_CONST.CHECKED? this.showCheckedLogin(): this.showUncheckedLogin() }\r\n            </Tile>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoginCheck));","import { React, Component, connect, Tile, Field } from \"../../../library\";\r\n\r\nimport { getCustomerLoginToken } from \"../../../redux/customer/customer.selector\";\r\nimport { setLoader, setErrorMessage } from \"../../../redux/misc/misc.action\";\r\nimport { setCustomerAddresses } from \"../../../redux/customer/customer.action\";\r\nimport { setConfirmedAddressId, setCheckoutStepStatus } from \"../../../redux/checkout/checkout.action\";\r\nimport { validateName, validateMobileNumber, validatePincode, validateText } from \"../../../utils/loginUtils\";\r\n\r\nimport APP_CONST from \"../../../APP_CONST\";\r\nimport * as api from \"../../../api/api\";\r\n\r\nconst mapStateToProps = () => ({\r\n    loginToken: getCustomerLoginToken()\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setErrorMessage: (error) => dispatch(setErrorMessage(error)),\r\n    setCustomerAddresses: (addresses) => dispatch(setCustomerAddresses(addresses)),\r\n    setConfirmedAddressId: (addressId) => dispatch(setConfirmedAddressId(addressId)),\r\n    setCheckoutStepStatus: (step, status) => dispatch(setCheckoutStepStatus(step, status))\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n    receiverName: \"\",\r\n    receiverMobile: \"\",\r\n    area: \"\",\r\n    pincode:\"\",\r\n    city:\"\",\r\n    state:\"\",\r\n    landmark:\"\",\r\n    addressType:\"\",\r\n    error :{\r\n        receiverName:\"\",\r\n        receiverMobile:\"\",\r\n        area:\"\",\r\n        pincode:\"\",\r\n        city:\"\",\r\n        state:\"\",\r\n        landmark:\"\",\r\n        addressType:\"\"\r\n    }\r\n};\r\n\r\nclass AddressForm extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = INITIAL_STATE;\r\n    }\r\n    \r\n    componentDidMount(){\r\n        const {address} = this.props;\r\n        if(address){\r\n            this.setState({...address})\r\n        }\r\n    }\r\n\r\n    validateForm = () => {\r\n        const error = {};\r\n        error.receiverName = validateName(this.state.receiverName);\r\n        error.receiverMobile = validateMobileNumber(this.state.receiverMobile);\r\n        error.pincode = validatePincode(this.state.pincode);\r\n        error.area = validateText(this.state.area, \"Please enter valid area\");\r\n        error.city = validateText(this.state.city, \"Please enter valid city\");\r\n        error.state = validateText(this.state.state, \"Please enter valid State\");\r\n        this.setState({error});\r\n        return !(error.receiverName||error.receiverMobile||error.pincode||error.area||error.city||error.state);\r\n    }\r\n    \r\n    setAsDeliveryAddress = addressId => {\r\n        // how to set the deliveryaddress for a newly added address which doesn't have _id, causing extra to completes\r\n        if(addressId){ \r\n            this.props.setConfirmedAddressId(addressId);\r\n        }\r\n        this.props.closeform();\r\n        if(addressId){\r\n            this.props.setCheckoutStepStatus(APP_CONST.STEP.TWO, APP_CONST.CHECKED);\r\n            this.props.setCheckoutStepStatus(APP_CONST.STEP.THREE, APP_CONST.OPEN);\r\n        }\r\n    }\r\n\r\n    saveAndDeliver = event => {\r\n        const {loginToken, setLoader, setErrorMessage, setCustomerAddresses, address} = this.props; \r\n        const {error, ...deliveryAddress} = this.state;\r\n        const serviceApi = address? api.updateCustomerAddress: api.addCustomerAddress;\r\n        event.preventDefault();\r\n        if(this.validateForm()){\r\n            setLoader(true);\r\n            serviceApi(deliveryAddress, loginToken).then( response => {\r\n                setCustomerAddresses(response.addresses);\r\n                this.setAsDeliveryAddress(deliveryAddress._id);\r\n                setLoader(false);\r\n            }, reject =>{\r\n                setErrorMessage([reject]);\r\n                setLoader(false);\r\n            })\r\n        }\r\n    }\r\n\r\n    handleChange = event => {\r\n        const { name, value } = event.target;\r\n        const error = {...this.state.error};\r\n        error[name] = \"\";\r\n        this.setState({ [name]: value });\r\n        this.setState({ error });\r\n    };\r\n\r\n    render() {\r\n        const {closeform, address} = this.props;\r\n        const {receiverName, receiverMobile, area, pincode, city, state, landmark, addressType, error} = this.state;\r\n        const title = address?\"EDIT ADDRESS\":\"ADD A NEW ADDRESS\";\r\n        return (\r\n            <Tile title= {<h6 className=\"text-muted\">{title}</h6>}>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <Field\r\n                            id=\"receiver-name\" \r\n                            inputType=\"TEXTBOX\"\r\n                            name=\"receiverName\"\r\n                            value = {receiverName}\r\n                            errorlabel = {error.receiverName}\r\n                            onChange = {this.handleChange}\r\n                            label = \"Name\"/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <Field\r\n                            id=\"receiver-mobile\" \r\n                            inputType=\"NUMBER\"\r\n                            maxLength=\"10\"\r\n                            name=\"receiverMobile\"\r\n                            value = {receiverMobile}\r\n                            errorlabel = {error.receiverMobile}\r\n                            onChange = {this.handleChange}\r\n                            label = \"10-digit mobile number\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <Field\r\n                        id=\"area\"\r\n                        inputType=\"TEXTBOX\"\r\n                        name=\"area\"\r\n                        value={area}\r\n                        errorlabel = {error.area}\r\n                        onChange={this.handleChange}\r\n                        label=\"Address (Area and Street)\" />\r\n                </div>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <Field\r\n                            id=\"pincode\" \r\n                            inputType=\"NUMBER\"\r\n                            maxLength=\"6\"\r\n                            name=\"pincode\"\r\n                            value = {pincode}\r\n                            errorlabel = {error.pincode}\r\n                            onChange = {this.handleChange}\r\n                            label = \"Pincode\"/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <Field\r\n                            id=\"city\" \r\n                            inputType=\"TEXTBOX\"\r\n                            name=\"city\"\r\n                            value = {city}\r\n                            errorlabel = {error.city}\r\n                            onChange = {this.handleChange}\r\n                            label = \"City/District/Town\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-row\">\r\n                    <div className=\"form-group col-md-6\">\r\n                        <Field\r\n                            id=\"state\" \r\n                            inputType=\"TEXTBOX\"\r\n                            name=\"state\"\r\n                            value = {state}\r\n                            errorlabel = {error.state}\r\n                            onChange = {this.handleChange}\r\n                            label = \"State\"/>\r\n                    </div>\r\n                    <div className=\"form-group col-md-6\">\r\n                        <Field\r\n                            id=\"landmark\" \r\n                            inputType=\"TEXTBOX\"\r\n                            name=\"landmark\"\r\n                            value = {landmark}\r\n                            onChange = {this.handleChange}\r\n                            label = \"Landmark (Optional)\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <div><label className=\"_text_sm_dark\">Address Type</label></div>\r\n                    <Field\r\n                        id=\"address-type-h\"\r\n                        inputType=\"RADIO\"\r\n                        name=\"addressType\"\r\n                        value=\"H\"\r\n                        checked={addressType === 'H'}\r\n                        onChange={this.handleChange}\r\n                        label=\"Home (All day delivery)\" />\r\n                    <Field\r\n                        id=\"address-type-w\"\r\n                        inputType=\"RADIO\"\r\n                        name=\"addressType\"\r\n                        value=\"W\"\r\n                        checked={addressType === 'W'}\r\n                        onChange={this.handleChange}\r\n                        label=\"Work (Delivery between 10AM - 5PM)\" />\r\n                </div>\r\n                <div className=\"row py-1\">\r\n                    <div className=\"col-md-6 col-sm-7 col-12 pt-2\">\r\n                        <button \r\n                            className=\"btn btn-dark btn-block\" \r\n                            onClick={this.saveAndDeliver}>\r\n                                <small>SAVE AND DELIVER HERE</small>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"col-md-3 col-sm-3 col-12 pt-2\">\r\n                        <button \r\n                            className=\"btn btn-light btn-block px-0\" \r\n                            onClick={closeform}>\r\n                                <small>CANCEL</small>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </Tile>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddressForm);","import { React, Component, connect, Tile } from '../../../library';\r\nimport { setSelectedAddressId, setConfirmedAddressId, setCheckoutStepStatus } from \"../../../redux/checkout/checkout.action\";\r\nimport APP_CONST from '../../../APP_CONST';\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setSelectedAddressId: (id) => dispatch(setSelectedAddressId(id)),\r\n    setConfirmedAddressId: (id) => dispatch(setConfirmedAddressId(id)),\r\n    setCheckoutStatus: (step, status) => dispatch(setCheckoutStepStatus(step, status))\r\n});\r\n\r\nclass AddressDetails extends Component {\r\n    getAddressType = (type) =>{\r\n        return type && <span className=\" badge badge-secondary mx-2\">{ type === 'H'? \"HOME\": \"WORK\"}</span>\r\n    }\r\n    \r\n    editAddress = (id) =>{\r\n        this.props.setEditAddressId(id);\r\n    }\r\n\r\n    handleSelectedAddress = (id) => {\r\n        this.props.setSelectedAddressId(id);\r\n    }\r\n\r\n    handleDeliveryAddress = (id) => {\r\n        this.props.setConfirmedAddressId(id);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.TWO, APP_CONST.CHECKED);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.THREE, APP_CONST.OPEN);\r\n    }\r\n    \r\n    render() {\r\n        const { address, selectedAddressId } = this.props;\r\n        const isSelectedAddress = selectedAddressId === address._id;\r\n        const selectClass = isSelectedAddress? \"card border-dark\": \"\";\r\n        return (\r\n            <Tile className={`${selectClass} _pointer _hoverable`} onClick={() => this.handleSelectedAddress(address._id)}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-9 col-8\">\r\n                        <div className=\"small\">\r\n                            <span className=\"mr-2\"><strong>{address.receiverName}</strong></span>\r\n                            {this.getAddressType(address.addressType)}\r\n                            <span className=\"mx-2\"><strong>{address.receiverMobile}</strong></span>\r\n                        </div>\r\n                        <div className=\"small my-3\">\r\n                            <span>{`${address.area}, `}</span>\r\n                            <span>{`${address.city}, `}</span>\r\n                            <span>{`${address.state} - `}</span>\r\n                            <span><strong>{address.pincode}</strong></span>\r\n                        </div>\r\n                    </div>\r\n                    {isSelectedAddress && <div className=\"col-md-3 col-4\">\r\n                        <button\r\n                            className=\"btn btn-light btn-block text-primary _text_sm_dark px-0\"\r\n                            onClick={() => this.editAddress(address._id)}>EDIT</button>\r\n                    </div>}\r\n                </div>\r\n                {isSelectedAddress && <div className=\"row\">\r\n                    <div className=\"col-lg-4 col-md-6 col-sm-6 col-xs-12\">\r\n                        <button \r\n                            className=\"btn btn-dark btn-block my-3\" \r\n                            onClick={() => this.handleDeliveryAddress(address._id)}>\r\n                                <small> DELIVER HERE </small>\r\n                        </button>    \r\n                    </div>\r\n                </div>}\r\n            </Tile>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(AddressDetails);","import { React, Component, connect } from \"../../../library\";\r\n\r\nimport AddressForm from './addressForm';\r\nimport AddressDetails from './addressDetails';\r\n\r\nimport { getSelectedAddressId } from \"../../../redux/checkout/checkout.selector\";\r\n\r\nconst mapStateToProps = () => ({\r\n    selectedAddressId: getSelectedAddressId()\r\n});\r\n\r\nclass AddressList extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = { editAddressId: \"\" }\r\n    }\r\n\r\n    setEditAddressId = (id) => {\r\n        this.setState({editAddressId:id});\r\n    }\r\n    \r\n    closeform =() =>{\r\n        this.setState({editAddressId:\"\"});\r\n    }\r\n\r\n    render() {\r\n        const {addresses, selectedAddressId} = this.props;\r\n        const {editAddressId} = this.state;\r\n        return (\r\n            addresses.map(address => (\r\n                editAddressId === address._id?(\r\n                    <AddressForm \r\n                        key={address._id} \r\n                        address={address}\r\n                        closeform={this.closeform}/>):(\r\n                    <AddressDetails \r\n                        key={address._id}\r\n                        address={address}\r\n                        selectedAddressId={selectedAddressId}\r\n                        setEditAddressId={this.setEditAddressId}/>\r\n                )\r\n            ))\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddressList);","import { React, Component, connect, Tile } from \"../../../library\";\r\n\r\nimport AddressForm from \"./addressForm\";\r\nimport AddressList from \"./addressList\";\r\n\r\nimport { getCustomerLoginToken, getCustomerAddresses } from \"../../../redux/customer/customer.selector\";\r\nimport { getCheckoutStepStatus, getConfirmedAddressId, getSelectedAddressId } from \"../../../redux/checkout/checkout.selector\";\r\nimport { setCustomerAddresses } from \"../../../redux/customer/customer.action\";\r\nimport { setCheckoutStepStatus, setSelectedAddressId } from \"../../../redux/checkout/checkout.action\";\r\nimport { setLoader, setErrorMessage } from \"../../../redux/misc/misc.action\";\r\n\r\nimport { getAddressById } from \"../../../utils/util\";\r\nimport APP_CONST from '../../../APP_CONST';\r\nimport * as api from \"../../../api/api\";\r\n\r\nconst mapStateToProps = () => {\r\n    const addresses = getCustomerAddresses();\r\n    const addressId = getConfirmedAddressId();\r\n    return {\r\n        logintoken: getCustomerLoginToken(),\r\n        addresses,\r\n        stepTwoStatus: getCheckoutStepStatus(APP_CONST.STEP.TWO),\r\n        confirmedAddress: getAddressById(addresses, addressId),\r\n        selectedAddress: getSelectedAddressId()}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setCustomerAddresses: (addresses) => dispatch(setCustomerAddresses(addresses)),\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setErrorMessage: (errors) => dispatch(setErrorMessage(errors)),\r\n    setCheckoutStatus: (step, status) => dispatch(setCheckoutStepStatus(step, status)),\r\n    setSelectedAddressId: (id) => dispatch(setSelectedAddressId(id))\r\n});\r\n\r\nclass DeliveryAddressCheck extends Component { \r\n    constructor(props){\r\n        super(props);\r\n        this.state = { addAddress : false }\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const {logintoken, setCustomerAddresses, setLoader, setErrorMessage, stepTwoStatus} = this.props;\r\n        if(prevProps.stepTwoStatus === false && stepTwoStatus === APP_CONST.OPEN ){\r\n            setLoader(true);\r\n            api.getCustomerAddresses(logintoken).then( response => {\r\n                setCustomerAddresses(response.addresses);\r\n                this.setDefaultSelectedAddress(response.addresses);\r\n                setLoader(false);\r\n            }, reject => {\r\n                setErrorMessage([reject]);\r\n                setLoader(false);\r\n            })\r\n        }\r\n    }\r\n\r\n    setDefaultSelectedAddress = (addresses) =>{\r\n        const {selectedAddress, setSelectedAddressId} = this.props;\r\n        if(!selectedAddress && addresses.length > 0)\r\n            setSelectedAddressId(addresses[0]._id);\r\n    }\r\n    \r\n    getHeaderContent = (color) => (\r\n        <React.Fragment>\r\n            <span className={`badge badge-${color}`}>2</span>\r\n            <span className=\"text-muted px-1\"><strong>DELIVERY ADDRESS</strong></span>\r\n        </React.Fragment>\r\n    );\r\n\r\n    changeDetail = () =>{\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.TWO, APP_CONST.OPEN);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.THREE, false);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.FOUR, false);\r\n    }\r\n\r\n    toggleAddressform = () => {\r\n        this.setState({addAddress:!this.state.addAddress})\r\n    }\r\n\r\n    showUncheckedDeliveryAddress = () => {\r\n        const { addresses, stepTwoStatus } = this.props;\r\n        const { addAddress } = this.state;\r\n        return (\r\n           stepTwoStatus?(\r\n            <div className=\"container\">\r\n                {addresses.length>0 && <AddressList addresses ={addresses}/>}\r\n                {addAddress ?\r\n                    <AddressForm closeform = {this.toggleAddressform}/>:\r\n                    <Tile \r\n                        title={<div \r\n                                className=\"text-primary _pointer\" \r\n                                onClick={this.toggleAddressform}> \r\n                                    + Add a new address\r\n                                </div>}\r\n                    /> \r\n                }\r\n            </div>):\r\n            <div className=\"row\">\r\n                <div className=\"col-md-9 col-sm-9 col-9\">\r\n                    {this.getHeaderContent('light')}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    showCheckedDeliveryAddress = () => {\r\n        const {confirmedAddress} = this.props;\r\n        return(\r\n            <React.Fragment>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-9 col-sm-9 col-8\">\r\n                        {this.getHeaderContent('light')}\r\n                        <span className=\"text-dark\"><strong>&#x2713;</strong></span>\r\n                        <div className=\"col pl-3 ml-1\">\r\n                            <small>\r\n                                <strong>{`${confirmedAddress.receiverName} `}</strong>\r\n                                <span>{`${confirmedAddress.area}, `}</span>\r\n                                <span>{`${confirmedAddress.city}, `}</span>\r\n                                <span>{`${confirmedAddress.state} - `}</span>\r\n                                <span><strong>{confirmedAddress.pincode}</strong></span>\r\n                            </small>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-sm-3 col-sm-3 col-4 pr-1 pl-0\">\r\n                        <button className=\"btn btn-outline-dark btn-block px-0\" onClick={this.changeDetail}>Change</button>\r\n                    </div>\r\n                </div>\r\n                \r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const {stepTwoStatus} = this.props;\r\n        return (\r\n            <Tile\r\n                className=\"mb-3\"\r\n                headerClass =\"_primary_bg\"\r\n                header={stepTwoStatus === APP_CONST.OPEN && this.getHeaderContent('dark')}>\r\n                {stepTwoStatus === APP_CONST.CHECKED? this.showCheckedDeliveryAddress(): this.showUncheckedDeliveryAddress()}\r\n            </Tile>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DeliveryAddressCheck);","import { React, Component, connect, Tile, DialogModal } from \"../../../library\";\r\n\r\nimport ItemList from '../../itemList';\r\n\r\nimport { getCheckoutStepStatus, getCheckoutItems } from \"../../../redux/checkout/checkout.selector\";\r\nimport { setCheckoutStepStatus, removeItemFromCheckout } from \"../../../redux/checkout/checkout.action\";\r\n\r\nimport APP_CONST from \"../../../APP_CONST\";\r\n\r\nconst mapStateToProps = () => ({\r\n    stepThreeStatus: getCheckoutStepStatus(APP_CONST.STEP.THREE),\r\n    checkoutItems: getCheckoutItems()\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    removeItemFromCheckout: (productId) => dispatch(removeItemFromCheckout(productId)),\r\n    setCheckoutStatus: (step, status) => dispatch(setCheckoutStepStatus(step, status))\r\n});\r\n\r\nclass OrderSummaryCheck extends Component {\r\n    changeDetail = () =>{\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.THREE, APP_CONST.OPEN);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.FOUR, false);\r\n    }\r\n\r\n    getHeaderContent = (color) => (\r\n        <React.Fragment>\r\n            <span className={`badge badge-${color}`}>3</span>\r\n            <span className=\"text-muted px-1\"><strong>ORDER SUMMARY</strong></span>\r\n        </React.Fragment>\r\n    );\r\n\r\n    confirmCheckoutItem = () =>{\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.THREE, APP_CONST.CHECKED);\r\n        this.props.setCheckoutStatus(APP_CONST.STEP.FOUR, APP_CONST.OPEN);\r\n    }\r\n    \r\n    moveItemfromCheckout = (productId) => {\r\n        this.props.removeItemFromCheckout(productId);\r\n    }\r\n\r\n    showUncheckedOrderSummary = () =>{\r\n        const { stepThreeStatus, checkoutItems } = this.props;\r\n        return( \r\n            stepThreeStatus?(\r\n                checkoutItems.length?<React.Fragment>\r\n                    <ItemList items={checkoutItems} handleRemoveItem= {this.moveItemfromCheckout}/>\r\n                        <hr/>\r\n                        <div className=\"row mt-3\">\r\n                            <div className=\"offset-md-8 offset-sm-8 offset-6 col-md-4 col-sm-4 col-6\">\r\n                                <button\r\n                                    className=\"btn btn-dark btn-block\" \r\n                                    onClick={this.confirmCheckoutItem}>\r\n                                        <small> CONTINUE </small>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                </React.Fragment>:\r\n                <small>Your checkout has no items.</small>\r\n            ):\r\n            <div className=\"row\">\r\n                <div className=\"col-md-9 col-sm-9 col-9\">\r\n                    {this.getHeaderContent('light')}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    showCheckedOrderSummary = () =>{\r\n        const {checkoutItems} = this.props;\r\n        const checkedItem = `${checkoutItems.length} item${checkoutItems.length>1? 's': \"\"}`\r\n        return( \r\n            <React.Fragment>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-9 col-sm-9 col-8\">\r\n                        {this.getHeaderContent('light')}\r\n                        <span className=\"text-dark\"><strong>&#x2713;</strong></span>\r\n                        <div className=\"col pl-3 ml-1\">\r\n                            <small> <strong>{checkedItem}</strong> </small>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-sm-3 col-sm-3 col-4 pr-1 pl-0\">\r\n                        <button className=\"btn btn-outline-dark btn-block px-0\" onClick={this.changeDetail}>Change</button>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const {stepThreeStatus, checkoutItems} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <Tile\r\n                    className=\"mb-3\"\r\n                    headerClass =\"_primary_bg\"\r\n                    header={stepThreeStatus === APP_CONST.OPEN && this.getHeaderContent('dark')}>\r\n                    {stepThreeStatus === APP_CONST.CHECKED? this.showCheckedOrderSummary(): this.showUncheckedOrderSummary()}\r\n                </Tile>\r\n                { !checkoutItems.length && <DialogModal/> }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderSummaryCheck);","import { React, Component, connect, Tile, withRouter } from \"../../../library\";\r\n\r\nimport { getCheckoutStepStatus } from \"../../../redux/checkout/checkout.selector\";\r\nimport { getCustomerLoginToken } from \"../../../redux/customer/customer.selector\";\r\nimport { getCartItems } from \"../../../redux/cart/cart.selector\";\r\nimport { setCheckoutStepStatus } from \"../../../redux/checkout/checkout.action\";\r\nimport { cleanCartAndAddItems } from \"../../../redux/cart/cart.action\";\r\nimport { setLoader, setErrorMessage, setSuccessMessage } from \"../../../redux/misc/misc.action\";\r\nimport { prepareOrderDetails } from \"../../../utils/util\";\r\nimport { removeSelectedProducts } from \"../../../utils/cartUtils\";\r\n\r\nimport APP_CONST from \"../../../APP_CONST\";\r\nimport * as api from \"../../../api/api\";\r\n\r\nconst mapStateToProps = () => ({\r\n    stepFourStatus: getCheckoutStepStatus(APP_CONST.STEP.FOUR),\r\n    loginToken: getCustomerLoginToken(),\r\n    cartItems: getCartItems()\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setCheckoutStatus: (step, status) => dispatch(setCheckoutStepStatus(step, status)),\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setErrorMessage: (error) => dispatch(setErrorMessage(error)),\r\n    setSuccessMessage: (success) => dispatch(setSuccessMessage(success)),\r\n    cleanCartAndAddItems: (items) => dispatch(cleanCartAndAddItems(items))\r\n});\r\n\r\nclass PaymentOptionCheck extends Component {\r\n    getHeaderContent = (color) => (\r\n        <React.Fragment>\r\n            <span className={`badge badge-${color}`}>4</span>\r\n            <span className=\"text-muted px-1\"><strong>PAYMENT OPTIONS</strong></span>\r\n        </React.Fragment>\r\n    );\r\n    \r\n    confirmOrder = () =>{\r\n        const { loginToken, setLoader, setErrorMessage, setSuccessMessage, \r\n                setCheckoutStatus, cartItems, history, cleanCartAndAddItems } = this.props; \r\n        const orderDetails = prepareOrderDetails();\r\n        setCheckoutStatus(APP_CONST.STEP.FOUR, APP_CONST.CHECKED);\r\n        setLoader(true);\r\n        api.placeOrder(orderDetails, loginToken).then( response => {\r\n            setSuccessMessage([response.message]);\r\n            cleanCartAndAddItems(removeSelectedProducts(response.orderedProducts, cartItems));\r\n            setLoader(false);\r\n            history.push(\"/orders\"); //redirect to order tracking page\r\n        }, reject => {\r\n            setErrorMessage([reject]);\r\n            setLoader(false);\r\n        })\r\n    }\r\n\r\n    showUncheckedPaymentOption = () =>{\r\n        const { stepFourStatus } = this.props;\r\n        return( \r\n            stepFourStatus?(<Tile>\r\n                <div className=\"row mb-3\">\r\n                    <div className=\"col\">Cash on delivery</div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-7 col-sm-5 col-md-4 pr-0\">\r\n                        <button \r\n                            className=\"btn btn-dark btn-block px-0\"\r\n                            onClick={this.confirmOrder}>\r\n                                <small> CONFIRM ORDER </small>\r\n                        </button> \r\n                    </div>\r\n                </div>\r\n            </Tile>):\r\n            <div className=\"row\">\r\n                <div className=\"col-md-9 col-sm-9 col-9\">\r\n                    {this.getHeaderContent('light')}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    showCheckedPaymentOption = () => (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-9 col-sm-9 col-9\">\r\n                {this.getHeaderContent('light')}\r\n                <span className=\"text-dark\"><strong>&#x2713;</strong></span>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        const {stepFourStatus} = this.props;\r\n        return (\r\n            <Tile\r\n                className=\"mb-3\"\r\n                headerClass =\"_primary_bg\"\r\n                header={stepFourStatus === APP_CONST.OPEN && this.getHeaderContent('dark')}>\r\n                {stepFourStatus === APP_CONST.CHECKED? this.showCheckedPaymentOption(): this.showUncheckedPaymentOption()}\r\n            </Tile>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(PaymentOptionCheck));","import { React, Component, connect } from \"../library\";\r\n\r\nimport Header  from \"../components/misc/header\";\r\nimport LoginCheck from \"../components/checkout/loginCheck\";\r\nimport DeliveryAddressCheck from \"../components/checkout/deliveryAddress/deliveryAddressCheck\";\r\nimport OrderSummaryCheck from \"../components/checkout/orderSummary/orderSummaryCheck\";\r\nimport PaymentOptionCheck from \"../components/checkout/paymentOption/paymentOptionCheck\";\r\nimport PriceDetail from \"../components/priceDetail\";\r\n\r\nimport { getCustomerLoginStatus } from \"../redux/customer/customer.selector\";\r\nimport { getCheckoutItems, getCheckoutStepStatus } from \"../redux/checkout/checkout.selector\";\r\nimport { getCartItems } from '../redux/cart/cart.selector';\r\nimport { getHomeProducts } from '../redux/product/product.selector';\r\nimport { setCheckoutStepStatus, moveItemsToCheckout, initializeCheckoutSteps, terminateCheckout } from \"../redux/checkout/checkout.action\";\r\nimport { mergeCustomerCart } from \"../redux/cart/cart.action\";\r\n\r\nimport { beforeUnloadListener, getProductById, parseQuery } from \"../utils/util\";\r\nimport APP_CONST from \"../APP_CONST\";\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    const query = parseQuery(props.location.search);\r\n    return{\r\n        cartItems: getCartItems(),\r\n        loginCheck: getCustomerLoginStatus(),\r\n        checkoutItems: getCheckoutItems(),\r\n        paymentCheck: getCheckoutStepStatus(APP_CONST.STEP.FOUR),\r\n        products: getHomeProducts(),\r\n        queriedProductId: query.get(APP_CONST.QUERY.PRODUCT_ID)\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    initializeCheckout: () => dispatch(initializeCheckoutSteps()),\r\n    moveItemsToCheckout: (cartItems) => dispatch(moveItemsToCheckout(cartItems)),\r\n    setCheckoutStepStatus: (step, status) => dispatch(setCheckoutStepStatus(step,status)),\r\n    mergeCustomerCart: (checkoutItems) => dispatch(mergeCustomerCart(checkoutItems)),\r\n    terminateCheckout: () => dispatch(terminateCheckout())\r\n});\r\n\r\nclass CheckoutPage extends Component {\r\n    componentDidMount(){\r\n        window.addEventListener('beforeunload', beforeUnloadListener);\r\n        const { loginCheck, setCheckoutStepStatus, initializeCheckout, moveItemsToCheckout, cartItems, products, queriedProductId } = this.props;\r\n        const item = queriedProductId? getProductById(products, queriedProductId): null;\r\n        initializeCheckout();\r\n        moveItemsToCheckout(item? [item]: cartItems);\r\n        setCheckoutStepStatus(APP_CONST.STEP.ONE, loginCheck? APP_CONST.CHECKED: APP_CONST.OPEN);\r\n        setCheckoutStepStatus(APP_CONST.STEP.TWO, loginCheck? APP_CONST.OPEN: false);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('beforeunload', beforeUnloadListener);\r\n        this.props.terminateCheckout();\r\n    }\r\n\r\n    render() {\r\n        const {checkoutItems} = this.props;\r\n        const checkoutSecionClass = checkoutItems.length? \"col-md-8\": \"offset-2 col-md-8\";\r\n        return (\r\n            <React.Fragment>\r\n                <Header hideCart={true} hideLogin={true}/>\r\n                <div className = 'container-fluid'>\r\n                    <div className='row mt-4'>\r\n                        <div className = {checkoutSecionClass}>\r\n                            <LoginCheck/>\r\n                            <DeliveryAddressCheck/>\r\n                            <OrderSummaryCheck/>\r\n                            <PaymentOptionCheck/>\r\n                        </div>\r\n                        {checkoutItems.length > 0 && <div className=\"col-md-4\">\r\n                            <PriceDetail items={checkoutItems}/>\r\n                        </div>}\r\n                    </div> \r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutPage);","import { React, Component, Tile, withRouter } from \"../../library\";\r\nimport { getFormattedDate } from \"../../utils/util\";\r\nimport APP_CONST from \"../../APP_CONST\";\r\n\r\nclass OrderOverview extends Component{\r\n    navigateToOrderDetail = () =>{\r\n        this.props.history.push(`/order-details/${this.props.orderId}`);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Tile className =\"_pointer _hoverable mt-2\" bodyClass=\"pt-1\" onClick={this.navigateToOrderDetail}>\r\n                <div className =\"row\">\r\n                    <div className=\"col-md-2 col-3 mt-3\">\r\n                        <img className=\"img-thumbnail\" src={this.props.thumnail} alt={this.props.productName} />\r\n                    </div>\r\n                    <div className=\"col-md-4 col-9 mt-3\">\r\n                        <div className=\"_cut_text\">{this.props.productName}</div>\r\n                        <p className=\"small text-muted\">Seller: {this.props.sellerId}</p>\r\n                    </div>\r\n                    <div className=\"col-md-2 col-4 mt-3\">\r\n                        <p>₹{this.props.price}</p>\r\n                    </div>\r\n                    <div className=\"col-md-4 col-8 mt-3\">\r\n                        <small>\r\n                            <strong className=\"_success_batch\">\r\n                                {this.props.status} on {getFormattedDate(this.props.orderedDate, APP_CONST.DATE_FORMAT.MDtY)} \r\n                            </strong>\r\n                        </small>\r\n                    </div>\r\n                </div>\r\n            </Tile>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(OrderOverview);","import { React, Component, connect } from \"../../library\";\r\n\r\nimport OrderOverview from \"../../components/orders/orderOverview\";\r\n\r\nimport { getCustomerOrders } from \"../../redux/customer/customer.selector\";\r\nimport { mapProductsInOrders, numberToPrice, getCurrentStatus, getCurrentStatusDate, sortByCreatedAt } from \"../../utils/util\";\r\n\r\nconst mapStatetoProps = () => {\r\n    return {\r\n        orders : sortByCreatedAt(mapProductsInOrders(getCustomerOrders()))\r\n    } \r\n}\r\n\r\nclass OrdersList extends Component{\r\n    render(){\r\n        return this.props.orders.map(order => {\r\n            const {product} = order;\r\n            return(\r\n                <OrderOverview\r\n                    key = {order.orderId}\r\n                    orderId= {order.orderId}\r\n                    productId = {product.productId}\r\n                    productName = {product.productName}\r\n                    thumnail = {product.productImage}\r\n                    sellerId = {product.sellerId}\r\n                    price = {numberToPrice(order.orderPrice)}\r\n                    status = {getCurrentStatus(order.statusTrack)}\r\n                    orderedDate = {getCurrentStatusDate(order.statusTrack)}\r\n                />\r\n            )\r\n        })\r\n    }\r\n}\r\n\r\nexport default connect(mapStatetoProps)(OrdersList);","import { React, Component, connect } from \"../library\";\r\n\r\nimport Header from \"../components/misc/header\";\r\nimport Directory from \"../components/misc/directory\";\r\nimport OrdersList from \"../components/orders/ordersList\";\r\n\r\nimport { setCustomerOrders } from \"../redux/customer/customer.action\";\r\nimport { setLoader, setErrorMessage } from \"../redux/misc/misc.action\";\r\n\r\nimport * as api from \"../api/api\";\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setCustomerOrders: (orders) => dispatch(setCustomerOrders(orders)),\r\n    setLoader: (status) => dispatch(setLoader(status)),\r\n    setErrorMessage: (errors) => dispatch(setErrorMessage(errors))\r\n});\r\n\r\nclass OrdersPage extends Component {\r\n    componentDidMount(){\r\n        const { setCustomerOrders, setLoader, setErrorMessage } = this.props;\r\n        setLoader(true);\r\n        api.getOrders().then( response => {\r\n            setCustomerOrders(response);\r\n            setLoader(false);\r\n        }, reject => {\r\n            setErrorMessage([reject]);\r\n            setLoader(false);\r\n        })\r\n    }\r\n    render() {  \r\n        return (\r\n            <React.Fragment>\r\n                <Header/>\r\n                <Directory/>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"offset-md-1 col-md-10\">\r\n                            <OrdersList />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(OrdersPage);","import { React, Component } from \"../../library\";\r\n\r\nclass OrderedProduct extends Component{\r\n    render(){\r\n        return(\r\n            <div className =\"row\">\r\n                <div className=\"col-4\">\r\n                    <img className=\"img-thumbnail\" src={this.props.thumnail} alt={this.props.productName} />\r\n                </div>\r\n                <div className=\"col-8\">\r\n                    <div className=\"_cut_text\">{this.props.productName}</div>\r\n                    <p className=\"small text-muted\">Seller: {this.props.sellerId}</p>\r\n                    <h6>₹{this.props.price}</h6>\r\n                </div>\r\n            </div>\r\n        ) \r\n    }\r\n}\r\n\r\nexport default OrderedProduct;","import { React, Component } from \"../../library\";\r\n\r\nclass OrderedAddress extends Component{\r\n    render(){\r\n        return(\r\n            <div className =\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <h6>Delivery Address</h6>\r\n                    <small>\r\n                        <div className=\"font-weight-bold my-2\">{this.props.address.receiverName}</div>\r\n                        <div>{this.props.address.area}, {this.props.address.landmark}</div>\r\n                        <div>{this.props.address.city} - {this.props.address.pincode}, {this.props.address.state}</div>\r\n                    </small>\r\n                    <small>\r\n                        <div className=\"font-weight-bold mt-2\">Phone number</div>\r\n                        <div>{this.props.address.receiverMobile}</div>\r\n                    </small>\r\n                </div>\r\n            </div>\r\n        ) \r\n    }\r\n}\r\n\r\nexport default OrderedAddress;","import { React, Component } from \"../../library\";\r\n\r\nimport { mapOrderStatusDetails } from \"../../utils/util\";\r\n\r\nclass OrderTracker extends Component {\r\n    render() {\r\n        const tracks = mapOrderStatusDetails(this.props.statusTrack);\r\n        const completion = (tracks.filter(track=>track.statusCd).length-1) * 33;\r\n         //may i need a better approach\r\n        const gradientDegree = (window.innerWidth > 768) ? '90deg' : '180deg';\r\n        const style = { background : `linear-gradient(${gradientDegree}, #26a541 0 ${completion}%, #ccc ${completion}% 100%)` };\r\n\r\n        return (\r\n            <div className=\"_tracker_line\" style={style}>\r\n                {tracks.map(track => (\r\n                    <div\r\n                        key={track._id}\r\n                        className={`${track.statusCd?\"_tracker_point_complete\":\"_tracker_point_incomplete\"}`}\r\n                        date={track.date}\r\n                        status={track.status}>\r\n                    </div>) )\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default OrderTracker;","import { React, Component, connect, Tile } from \"../library\";\r\n\r\nimport Header from \"../components/misc/header\";\r\nimport Directory from \"../components/misc/directory\";\r\nimport OrderedProduct from \"../components/orders/orderedProduct\";\r\nimport OrderedAddress from \"../components/orders/orderedAddress\";\r\nimport OrderTracker from \"../components/orders/orderTracker\";\r\n\r\nimport { getCustomerOrders } from \"../redux/customer/customer.selector\";\r\nimport { mapProductsInOrders, numberToPrice } from \"../utils/util\";\r\n\r\nconst mapStateToProps = (state, props) =>{\r\n    const [ order ] = mapProductsInOrders([getCustomerOrders().find(order=> order.orderId === props.match.params.orderId)]);\r\n    return { order };\r\n};\r\n\r\nclass OrderDetailsPage extends Component{\r\n    render(){\r\n        const { order } = this.props;\r\n        const { product } = order;\r\n        return(\r\n            <React.Fragment>\r\n                <Header/>\r\n                <Directory/>\r\n                <Tile className=\"container my-3\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-4\">\r\n                            <OrderedAddress address={order.deliveryAddress}/>\r\n                        </div>\r\n                    </div>\r\n                </Tile>\r\n                <Tile className=\"container my-3\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-4\">\r\n                            <OrderedProduct\r\n                                productId={product.productId}\r\n                                productName={product.productName}\r\n                                thumnail={product.productImage}\r\n                                sellerId={product.sellerId}\r\n                                price={numberToPrice(order.orderPrice)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <OrderTracker statusTrack = {order.statusTrack}/>\r\n                        </div>\r\n                    </div>\r\n                </Tile>\r\n            </React.Fragment>)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(OrderDetailsPage);","import { React } from \"../../library\";\r\n\r\nconst Footer = () => (\r\n    <footer\r\n        className=\"py-4 bg-dark text-white-50 _sticky_footer\">\r\n        <div className=\"container text-center\">\r\n            <small>Copyright &copy; ukart</small>\r\n        </div>\r\n    </footer>\r\n);\r\n\r\nexport default Footer;","import { React, Route, Switch, connect, Loader, Notifier } from \"./library\";\r\n\r\nimport HomePage from \"./pages/homePage\";\r\nimport LoginSignupPage from \"./pages/loginSignupPage\";\r\nimport ProductPage from \"./pages/productPage\";\r\nimport DirectoryPage from \"./pages/directoryPage\";\r\nimport CartPage from \"./pages/cartPage\";\r\nimport CheckoutPage from \"./pages/checkoutPage\";\r\nimport OrdersPage from \"./pages/ordersPage\";\r\nimport OrderDetailsPage from \"./pages/orderDetailsPage\";\r\nimport Footer from \"./components/misc/footer\";\r\n\r\nimport { getLoaderStatus, getErrorMessages, getSuccessMessages, getFooterDisplay } from \"./redux/misc/misc.selector\";\r\nimport APP_CONST from \"./APP_CONST\";\r\n\r\nconst mapStateToProps = () => ({\r\n  loaderOn: getLoaderStatus(),\r\n  errors: getErrorMessages(),\r\n  success: getSuccessMessages(),\r\n  showFooter: getFooterDisplay()\r\n});\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    const {errors, success, loaderOn, showFooter} = this.props;\r\n    return (\r\n      <div className = \"_main_container\">\r\n          { errors.length > 0 && <Notifier messageType={APP_CONST.FAILURE} messages={errors}/>}\r\n          { success.length > 0 && <Notifier messageType={APP_CONST.SUCCESS} messages={success}/>}\r\n          { loaderOn && <Loader/> }\r\n          <Switch>\r\n            <Route exact path=\"/\" component={HomePage} />\r\n            <Route path=\"/user\" component={LoginSignupPage} />\r\n            <Route path=\"/cart\" component={CartPage} />\r\n            <Route path=\"/checkout\" component={CheckoutPage} />\r\n            <Route path=\"/orders\" component={OrdersPage} />\r\n            <Route path=\"/order-details/:orderId\" component={OrderDetailsPage} />\r\n            <Route path=\"/product/:productId\" component={ProductPage} />\r\n            <Route path=\"/:category/:subCategory\" component={DirectoryPage} />\r\n            <Route path=\"/:category\" component={DirectoryPage} />\r\n          </Switch>\r\n          {showFooter && <Footer/>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","import { ReactDOM, React, BrowserRouter, Provider, PersistGate, ScrollToTop } from \"./library\";\r\nimport {store, persistor} from \"./redux/store\";\r\nimport App from \"./App\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"./css/theme.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store = {store}>\r\n    <BrowserRouter>\r\n      <ScrollToTop/>\r\n      <PersistGate persistor = {persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}